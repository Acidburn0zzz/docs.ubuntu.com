# Redirect project section roots to English language
core/?: /core/en/
phone/?: /phone/en/
maas(/|/en/?|/2.1/?)?: /maas/2.1/en/

# Add slash to language and version folders, and remove "index"
(?P<project>maas|core|phone)/(?P<language>[a-zA-Z]{2})(/index)?: /{project}/{language}/
(?P<project>maas|core|phone)/(?P<version>[0-9-._]+|devel)/: /{project}/{version}/en/
(?P<project>maas|core|phone)/(?P<version>[a-zA-Z0-9-._]+)(/index)?: /{project}/{version}/en/
(?P<project>maas|core|phone)/(?P<version>[a-zA-Z0-9-._]+)/(?P<language>[a-zA-Z]{2})(/index)?: /{project}/{version}/{language}/

# Remove trailing slash or .html from document URLs
(?P<project>maas|core|phone)/(?P<version>[a-zA-Z0-9-._]+/)?(?P<language>[a-zA-Z]{2})/(?P<document>.*)(/|.html): /{project}/{version}{language}/{document}

# Pages redirects:
# On 12/01/2017
core/en/guides/build-device/assertions: /core/en/reference/assertions

maas/2.1/en/installconfig-deploy-nodes: maas/2.1/en/installconfig-nodes-deploy
maas/2.1/en/installconfig-gui: maas/2.1/en/installconfig-webui
maas/2.1/en/installconfig-hwe-kernels: maas/2.1/en/installconfig-nodes-ubuntu-kernels
maas/2.1/en/installconfig-kernel: maas/2.1/en/installconfig-nodes-kernel-boot-options
maas/2.1/en/installconfig-server-iso: maas/2.1/en/installconfig-iso-install
