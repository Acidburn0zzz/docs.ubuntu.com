<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>MAAS API &mdash; MAAS dev documentation</title>
    
    <link rel="stylesheet" href="/static/maas-1.9/flasky.css" type="text/css" />
    <link rel="stylesheet" href="/static/maas-1.9/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://assets.ubuntu.com/sites/guidelines/css/latest/ubuntu-styles.css" type="text/css" />
    <link rel="stylesheet" href="https://assets.ubuntu.com/sites/ubuntu/latest/u/css/global.css" type="text/css" />
    <link rel="stylesheet" href="/static/maas-1.9/css/main.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="/static/maas-1.9/jquery.js"></script>
    <script type="text/javascript" src="/static/maas-1.9/underscore.js"></script>
    <script type="text/javascript" src="/static/maas-1.9/doctools.js"></script>
    <link rel="shortcut icon" href="/static/maas-1.9/maas.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="MAAS dev documentation" href="index.html" />
    <link rel="next" title="API authentication" href="api_authentication.html" />
    <link rel="prev" title="Physical Zones" href="physical-zones.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="api_authentication.html" title="API authentication"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="physical-zones.html" title="Physical Zones"
             accesskey="P">previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://maas.io/docs/">Latest documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
  </li>
  <li class="nav-item nav-item-0">
    <a href="index.html">MAAS dev documentation</a>
  </li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="maas-api">
<span id="region-controller-api"></span><h1>MAAS API<a class="headerlink" href="api.html#maas-api" title="Permalink to this headline">¶</a></h1>
<p>Restful MAAS API.</p>
<p>This is the documentation for the API that lets you control and query MAAS.
The API is &#8220;Restful&#8221;, which means that you access it through normal HTTP
requests.</p>
<div class="section" id="api-versions">
<h2>API versions<a class="headerlink" href="api.html#api-versions" title="Permalink to this headline">¶</a></h2>
<p>At any given time, MAAS may support multiple versions of its API.  The version
number is included in the API&#8217;s URL, e.g. /api/1.0/</p>
<p>For now, 1.0 is the only supported version.</p>
</div>
<div class="section" id="http-methods-and-parameter-passing">
<h2>HTTP methods and parameter-passing<a class="headerlink" href="api.html#http-methods-and-parameter-passing" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>The following HTTP methods are available for accessing the API:</dt>
<dd><ul class="first last simple">
<li>GET (for information retrieval and queries),</li>
<li>POST (for asking the system to do things),</li>
<li>PUT (for updating objects), and</li>
<li>DELETE (for deleting objects).</li>
</ul>
</dd>
</dl>
<p>All methods except DELETE may take parameters, but they are not all passed in
the same way.  GET parameters are passed in the URL, as is normal with a GET:
&#8220;/item/?foo=bar&#8221; passes parameter &#8220;foo&#8221; with value &#8220;bar&#8221;.</p>
<p>POST and PUT are different.  Your request should have MIME type
&#8220;multipart/form-data&#8221;; each part represents one parameter (for POST) or
attribute (for PUT).  Each part is named after the parameter or attribute it
contains, and its contents are the conveyed value.</p>
<p>All parameters are in text form.  If you need to submit binary data to the
API, don&#8217;t send it as any MIME binary format; instead, send it as a plain text
part containing base64-encoded data.</p>
<p>Most resources offer a choice of GET or POST operations.  In those cases these
methods will take one special parameter, called <cite>op</cite>, to indicate what it is
you want to do.</p>
<p>For example, to list all nodes, you might GET &#8220;/api/1.0/nodes/?op=list&#8221;.</p>
</div>
<div class="section" id="operations">
<h2>Operations<a class="headerlink" href="api.html#operations" title="Permalink to this headline">¶</a></h2>
<div class="section" id="logged-in-user">
<h3>Logged-in user<a class="headerlink" href="api.html#logged-in-user" title="Permalink to this headline">¶</a></h3>
<p>Manage the current logged-in user.</p>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/account/</span></code> <code class="docutils literal"><span class="pre">op=create_authorisation_token</span></code></p>
<blockquote>
<div><p>Create an authorisation OAuth token and OAuth consumer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">a json dict with three keys: &#8216;token_key&#8217;,
&#8216;token_secret&#8217; and &#8216;consumer_key&#8217; (e.g.
{token_key: &#8216;s65244576fgqs&#8217;, token_secret: &#8216;qsdfdhv34&#8217;,
consumer_key: &#8216;68543fhj854fg&#8217;}).</td>
</tr>
<tr class="field-even field"><th class="field-name">rtype:</th><td class="field-body">string (json)</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/account/</span></code> <code class="docutils literal"><span class="pre">op=delete_authorisation_token</span></code></p>
<blockquote>
<div><p>Delete an authorisation OAuth token and the related OAuth consumer.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param token_key:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The key of the token to be deleted.</td>
</tr>
<tr class="field-even field"><th class="field-name">type token_key:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="bcache-cache-set">
<h3>Bcache Cache Set<a class="headerlink" href="api.html#bcache-cache-set" title="Permalink to this headline">¶</a></h3>
<p>Manage bcache cache set on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/bcache-cache-set/{cache_set_id}/</span></code></dt>
<dd><p class="first">Delete cache set on node.</p>
<p class="last">Returns 400 if the cache set is in use.
Returns 404 if the node or cache set is not found.
Returns 409 if the node is not Ready.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/bcache-cache-set/{cache_set_id}/</span></code></dt>
<dd><p class="first">Read bcache cache set on node.</p>
<p class="last">Returns 404 if the node or cache set is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodes/{system_id}/bcache-cache-set/{cache_set_id}/</span></code></dt>
<dd><p class="first">Delete bcache on node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param cache_device:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Cache block device to replace current one.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param cache_partition:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Cache partition to replace current one.</td>
</tr>
</tbody>
</table>
<p>Specifying both a cache_device and a cache_partition is not allowed.</p>
<p class="last">Returns 404 if the node or the cache set is not found.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="bcache-cache-sets">
<h3>Bcache Cache Sets<a class="headerlink" href="api.html#bcache-cache-sets" title="Permalink to this headline">¶</a></h3>
<p>Manage bcache cache sets on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/bcache-cache-sets/</span></code></dt>
<dd><p class="first">List all bcache cache sets belonging to node.</p>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/bcache-cache-sets/</span></code></dt>
<dd><p class="first">Creates a Bcache Cache Set.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param cache_device:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Cache block device.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param cache_partition:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Cache partition.</td>
</tr>
</tbody>
</table>
<p>Specifying both a cache_device and a cache_partition is not allowed.</p>
<p class="last">Returns 404 if the node is not found.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="bcache-device">
<h3>Bcache Device<a class="headerlink" href="api.html#bcache-device" title="Permalink to this headline">¶</a></h3>
<p>Manage bcache device on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/bcache/{bcache_id}/</span></code></dt>
<dd><p class="first">Delete bcache on node.</p>
<p class="last">Returns 404 if the node or bcache is not found.
Returns 409 if the node is not Ready.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/bcache/{bcache_id}/</span></code></dt>
<dd><p class="first">Read bcache device on node.</p>
<p class="last">Returns 404 if the node or bcache is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodes/{system_id}/bcache/{bcache_id}/</span></code></dt>
<dd><p class="first">Delete bcache on node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the Bcache.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">UUID of the Bcache.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param cache_set:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Cache set to replace current one.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param backing_device:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Backing block device to replace current one.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param backing_partition:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Backing partition to replace current one.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param cache_mode:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Cache mode (writeback, writethrough, writearound).</td>
</tr>
</tbody>
</table>
<p>Specifying both a device and a partition for a given role (cache or
backing) is not allowed.</p>
<p class="last">Returns 404 if the node or the bcache is not found.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="bcache-devices">
<h3>Bcache Devices<a class="headerlink" href="api.html#bcache-devices" title="Permalink to this headline">¶</a></h3>
<p>Manage bcache devices on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/bcaches/</span></code></dt>
<dd><p class="first">List all bcache devices belonging to node.</p>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/bcaches/</span></code></dt>
<dd><p class="first">Creates a Bcache.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the Bcache.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">UUID of the Bcache.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param cache_set:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Cache set.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param backing_device:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Backing block device.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param backing_partition:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Backing partition.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param cache_mode:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Cache mode (WRITEBACK, WRITETHROUGH, WRITEAROUND).</td>
</tr>
</tbody>
</table>
<p>Specifying both a device and a partition for a given role (cache or
backing) is not allowed.</p>
<p class="last">Returns 404 if the node is not found.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="block-device">
<h3>Block device<a class="headerlink" href="api.html#block-device" title="Permalink to this headline">¶</a></h3>
<p>Manage a block device on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code></dt>
<dd><p class="first">Delete block device on node.</p>
<p class="last">Returns 404 if the node or block device is not found.
Returns 403 if the user is not allowed to delete the block device.
Returns 409 if the node is not Ready.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code></dt>
<dd><p class="first">Read block device on node.</p>
<p class="last">Returns 404 if the node or block device is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code> <code class="docutils literal"><span class="pre">op=add_tag</span></code></p>
<blockquote>
<div><p>Add a tag to block device on node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param tag:</th><td class="field-body">The tag being added.</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node or block device is not found.
Returns 403 if the user is not allowed to update the block device.
Returns 409 if the node is not Ready.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code> <code class="docutils literal"><span class="pre">op=remove_tag</span></code></p>
<blockquote>
<div><p>Remove a tag from block device on node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param tag:</th><td class="field-body">The tag being removed.</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node or block device is not found.
Returns 403 if the user is not allowed to update the block device.
Returns 409 if the node is not Ready.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code> <code class="docutils literal"><span class="pre">op=format</span></code></p>
<blockquote>
<div><p>Format block device with filesystem.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param fstype:</th><td class="field-body">Type of filesystem.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">UUID of the filesystem.</td>
</tr>
</tbody>
</table>
<p>Returns 403 when the user doesn&#8217;t have the ability to format the             block device.
Returns 404 if the node or block device is not found.
Returns 409 if the node is not Ready or Allocated.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code> <code class="docutils literal"><span class="pre">op=mount</span></code></p>
<blockquote>
<div><p>Mount the filesystem on block device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param mount_point:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Path on the filesystem to mount.</td>
</tr>
</tbody>
</table>
<p>Returns 403 when the user doesn&#8217;t have the ability to mount the             block device.
Returns 404 if the node or block device is not found.
Returns 409 if the node is not Ready or Allocated.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code> <code class="docutils literal"><span class="pre">op=set_boot_disk</span></code></p>
<blockquote>
<div><p>Set this block device as the boot disk for the node.</p>
<p>Returns 400 if the block device is a virtual block device.
Returns 404 if the node or block device is not found.
Returns 403 if the user is not allowed to update the block device.
Returns 409 if the node is not Ready or Allocated.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code> <code class="docutils literal"><span class="pre">op=unformat</span></code></p>
<blockquote>
<div><p>Unformat block device with filesystem.</p>
<p>Returns 400 if the block device is not formatted, currently mounted,             or part of a filesystem group.
Returns 403 when the user doesn&#8217;t have the ability to unformat the             block device.
Returns 404 if the node or block device is not found.
Returns 409 if the node is not Ready or Allocated.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code> <code class="docutils literal"><span class="pre">op=unmount</span></code></p>
<blockquote>
<div><p>Unmount the filesystem on block device.</p>
<p>Returns 400 if the block device is not formatted or not currently             mounted.
Returns 403 when the user doesn&#8217;t have the ability to unmount the             block device.
Returns 404 if the node or block device is not found.
Returns 409 if the node is not Ready or Allocated.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/</span></code></dt>
<dd><p class="first">Update block device on node.</p>
<p>Fields for physical block device:
:param name: Name of the block device.
:param model: Model of the block device.
:param serial: Serial number of the block device.
:param id_path: (optional) Only used if model and serial cannot be             provided. This should be a path that is fixed and doesn&#8217;t change             depending on the boot order or kernel version.
:param size: Size of the block device.
:param block_size: Block size of the block device.</p>
<p>Fields for virtual block device:
:param name: Name of the block device.
:param uuid: UUID of the block device.
:param size: Size of the block device. (Only allowed for logical             volumes.)</p>
<p class="last">Returns 404 if the node or block device is not found.
Returns 403 if the user is not allowed to update the block device.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="block-devices">
<h3>Block devices<a class="headerlink" href="api.html#block-devices" title="Permalink to this headline">¶</a></h3>
<p>Manage block devices on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/</span></code></dt>
<dd><p class="first">List all block devices belonging to node.</p>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/</span></code></dt>
<dd><p class="first">Create a physical block device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the block device.</td>
</tr>
<tr class="field-even field"><th class="field-name">param model:</th><td class="field-body">Model of the block device.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param serial:</th><td class="field-body">Serial number of the block device.</td>
</tr>
<tr class="field-even field"><th class="field-name">param id_path:</th><td class="field-body">(optional) Only used if model and serial cannot be
provided. This should be a path that is fixed and doesn&#8217;t change
depending on the boot order or kernel version.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param size:</th><td class="field-body">Size of the block device.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param block_size:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Block size of the block device.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="boot-images">
<h3>Boot images<a class="headerlink" href="api.html#boot-images" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of boot images.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodegroups/{uuid}/boot-images/</span></code></dt>
<dd><p class="first">List boot images.</p>
<p>Get a listing of a cluster&#8217;s boot images.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param uuid:</th><td class="field-body">The UUID of the cluster for which the images
should be listed.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="boot-resource">
<h3>Boot resource<a class="headerlink" href="api.html#boot-resource" title="Permalink to this headline">¶</a></h3>
<p>Manage a boot resource.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/boot-resources/{id}/</span></code></dt>
<dd>Delete boot resource.</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/boot-resources/{id}/</span></code></dt>
<dd>Read a boot resource.</dd>
</dl>
</div>
<div class="section" id="boot-resources">
<h3>Boot resources<a class="headerlink" href="api.html#boot-resources" title="Permalink to this headline">¶</a></h3>
<p>Manage the boot resources.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/boot-resources/</span></code></dt>
<dd><p class="first">List all boot resources.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param type:</th><td class="field-body">Type of boot resources to list. Default: all</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/boot-resources/</span></code></dt>
<dd><p class="first">Uploads a new boot resource.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the boot resource.</td>
</tr>
<tr class="field-even field"><th class="field-name">param title:</th><td class="field-body">Title for the boot resource.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param architecture:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Architecture the boot resource supports.</td>
</tr>
<tr class="field-even field"><th class="field-name">param filetype:</th><td class="field-body">Filetype for uploaded content. (Default: tgz)</td>
</tr>
<tr class="field-odd field"><th class="field-name">param content:</th><td class="field-body">Image content. Note: this is not a normal parameter,
but a file upload.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/boot-resources/</span></code> <code class="docutils literal"><span class="pre">op=import</span></code></p>
<blockquote>
<div>Import the boot resources.</div></blockquote>
</div>
<div class="section" id="boot-source">
<h3>Boot source<a class="headerlink" href="api.html#boot-source" title="Permalink to this headline">¶</a></h3>
<p>Manage a boot source.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/boot-sources/{id}/</span></code></dt>
<dd>Delete a specific boot source.</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/boot-sources/{id}/</span></code></dt>
<dd>Read a boot source.</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/boot-sources/{id}/</span></code></dt>
<dd><p class="first">Update a specific boot source.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param url:</th><td class="field-body">The URL of the BootSource.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param keyring_filename:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The path to the keyring file for this
BootSource.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param keyring_filename:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The GPG keyring for this BootSource,
base64-encoded data.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="boot-source-selection">
<h3>Boot source selection<a class="headerlink" href="api.html#boot-source-selection" title="Permalink to this headline">¶</a></h3>
<p>Manage a boot source selection.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/boot-sources/{boot_source_id}/selections/{id}/</span></code></dt>
<dd>Delete a specific boot source.</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/boot-sources/{boot_source_id}/selections/{id}/</span></code></dt>
<dd>Read a boot source selection.</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/boot-sources/{boot_source_id}/selections/{id}/</span></code></dt>
<dd><p class="first">Update a specific boot source selection.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param release:</th><td class="field-body">The release for which to import resources.</td>
</tr>
<tr class="field-even field"><th class="field-name">param arches:</th><td class="field-body">The list of architectures for which to import resources.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param subarches:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The list of subarchitectures for which to import
resources.</td>
</tr>
<tr class="field-even field"><th class="field-name">param labels:</th><td class="field-body">The list of labels for which to import resources.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="boot-source-selections">
<h3>Boot source selections<a class="headerlink" href="api.html#boot-source-selections" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of boot source selections.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/boot-sources/{boot_source_id}/selections/</span></code></dt>
<dd><p class="first">List boot source selections.</p>
<p class="last">Get a listing of a boot source&#8217;s selections.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/boot-sources/{boot_source_id}/selections/</span></code></dt>
<dd><p class="first">Create a new boot source selection.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param release:</th><td class="field-body">The release for which to import resources.</td>
</tr>
<tr class="field-even field"><th class="field-name">param arches:</th><td class="field-body">The architecture list for which to import resources.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param subarches:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The subarchitecture list for which to import
resources.</td>
</tr>
<tr class="field-even field"><th class="field-name">param labels:</th><td class="field-body">The label lists for which to import resources.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="boot-sources">
<h3>Boot sources<a class="headerlink" href="api.html#boot-sources" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of boot sources.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/boot-sources/</span></code></dt>
<dd><p class="first">List boot sources.</p>
<p class="last">Get a listing of boot sources.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/boot-sources/</span></code></dt>
<dd><p class="first">Create a new boot source.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param url:</th><td class="field-body">The URL of the BootSource.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param keyring_filename:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The path to the keyring file for
this BootSource.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param keyring_data:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The GPG keyring for this BootSource,
base64-encoded.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="commissioning-script">
<h3>Commissioning script<a class="headerlink" href="api.html#commissioning-script" title="Permalink to this headline">¶</a></h3>
<p>Manage a custom commissioning script.</p>
<blockquote>
<div>This functionality is only available to administrators.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/commissioning-scripts/{name}</span></code></dt>
<dd>Delete a commissioning script.</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/commissioning-scripts/{name}</span></code></dt>
<dd>Read a commissioning script.</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/commissioning-scripts/{name}</span></code></dt>
<dd>Update a commissioning script.</dd>
</dl>
</div>
<div class="section" id="commissioning-scripts">
<h3>Commissioning scripts<a class="headerlink" href="api.html#commissioning-scripts" title="Permalink to this headline">¶</a></h3>
<p>Manage custom commissioning scripts.</p>
<blockquote>
<div>This functionality is only available to administrators.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/commissioning-scripts/</span></code></dt>
<dd>List commissioning scripts.</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/commissioning-scripts/</span></code></dt>
<dd><p class="first">Create a new commissioning script.</p>
<p>Each commissioning script is identified by a unique name.</p>
<p>By convention the name should consist of a two-digit number, a dash,
and a brief descriptive identifier consisting only of ASCII
characters.  You don&#8217;t need to follow this convention, but not doing
so opens you up to risks w.r.t. encoding and ordering.  The name must
not contain any whitespace, quotes, or apostrophes.</p>
<p>A commissioning node will run each of the scripts in lexicographical
order.  There are no promises about how non-ASCII characters are
sorted, or even how upper-case letters are sorted relative to
lower-case letters.  So where ordering matters, use unique numbers.</p>
<p>Scripts built into MAAS will have names starting with &#8220;00-maas&#8221; or
&#8220;99-maas&#8221; to ensure that they run first or last, respectively.</p>
<p>Usually a commissioning script will be just that, a script.  Ideally a
script should be ASCII text to avoid any confusion over encoding.  But
in some cases a commissioning script might consist of a binary tool
provided by a hardware vendor.  Either way, the script gets passed to
the commissioning node in the exact form in which it was uploaded.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Unique identifying name for the script.  Names should
follow the pattern of &#8220;25-burn-in-hard-disk&#8221; (all ASCII, and with
numbers greater than zero, and generally no &#8220;weird&#8221; characters).</td>
</tr>
<tr class="field-even field"><th class="field-name">param content:</th><td class="field-body">A script file, to be uploaded in binary form.  Note:
this is not a normal parameter, but a file upload.  Its filename
is ignored; MAAS will know it by the name you pass to the request.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="device">
<h3>Device<a class="headerlink" href="api.html#device" title="Permalink to this headline">¶</a></h3>
<p>Manage an individual device.</p>
<blockquote>
<div>The device is identified by its system_id.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/devices/{system_id}/</span></code></dt>
<dd><p class="first">Delete a specific Device.</p>
<p class="last">Returns 404 if the device is not found.
Returns 403 if the user does not have permission to delete the device.
Returns 204 if the device is successfully deleted.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/devices/{system_id}/</span></code></dt>
<dd><p class="first">Read a specific device.</p>
<p class="last">Returns 404 if the device is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/devices/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=claim_sticky_ip_address</span></code></p>
<blockquote>
<div><p>Assign a &#8220;sticky&#8221; IP address to a device&#8217;s MAC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param mac_address:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Optional MAC address on the device on which to
assign the sticky IP address.  If not passed, defaults to the
primary MAC for the device.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param requested_address:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Optional IP address to claim.  If this
isn&#8217;t passed, this method will draw an IP address from the static
range of the cluster interface this MAC is related to.
If passed, this method lets you associate any IP address
with a MAC address if the MAC isn&#8217;t related to a cluster interface.</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the device is not found.
Returns 400 if the mac_address is not found on the device.
Returns 503 if there are not enough IPs left on the cluster interface
to which the mac_address is linked.
Returns 503 if the interface does not have an associated subnet.
Returns 503 if the requested_address falls in a dynamic range.
Returns 503 if the requested_address is already allocated.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/devices/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=release_sticky_ip_address</span></code></p>
<blockquote>
<div><p>Release a &#8220;sticky&#8221; IP address from a device&#8217;s MAC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param address:</th><td class="field-body">Optional IP address to release. If left unspecified,
will release every &#8220;sticky&#8221; IP address associated with the device.</td>
</tr>
</tbody>
</table>
<p>Returns 400 if the specified addresses could not be deallocated
Returns 404 if the device is not found.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/devices/{system_id}/</span></code></dt>
<dd><p class="first">Update a specific device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param hostname:</th><td class="field-body">The new hostname for this device.</td>
</tr>
<tr class="field-even field"><th class="field-name">param parent:</th><td class="field-body">Optional system_id to indicate this device&#8217;s parent.
If the parent is already set and this parameter is omitted,
the parent will be unchanged.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type hostname:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the device is not found.
Returns 403 if the user does not have permission to update the device.</p>
</dd>
</dl>
</div>
<div class="section" id="devices">
<h3>Devices<a class="headerlink" href="api.html#devices" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of all the devices in the MAAS.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/devices/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div><p>List devices visible to the user, optionally filtered by criteria.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param hostname:</th><td class="field-body">An optional list of hostnames.  Only devices with
matching hostnames will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">type hostname:</th><td class="field-body">iterable</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param mac_address:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">An optional list of MAC addresses.  Only
devices with matching MAC addresses will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type mac_address:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">iterable</td>
</tr>
<tr class="field-odd field"><th class="field-name">param id:</th><td class="field-body">An optional list of system ids.  Only devices with
matching system ids will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">type id:</th><td class="field-body">iterable</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/devices/</span></code> <code class="docutils literal"><span class="pre">op=new</span></code></p>
<blockquote>
<div><p>Create a new device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param mac_addresses:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">One or more MAC addresses for the device.</td>
</tr>
<tr class="field-even field"><th class="field-name">param hostname:</th><td class="field-body">A hostname. If not given, one will be generated.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param parent:</th><td class="field-body">The system id of the parent.  Optional.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="events">
<h3>Events<a class="headerlink" href="api.html#events" title="Permalink to this headline">¶</a></h3>
<p>Retrieve filtered node events.</p>
<blockquote>
<div>A specific Node&#8217;s events is identified by specifying one or more
ids, hostnames, or mac addresses as a list.</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/events/</span></code> <code class="docutils literal"><span class="pre">op=query</span></code></p>
<blockquote>
<div><p>List Node events, optionally filtered by various criteria via
URL query parameters.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param hostname:</th><td class="field-body">An optional hostname. Only events relating to the node
with the matching hostname will be returned. This can be specified
multiple times to get events relating to more than one node.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param mac_address:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">An optional list of MAC addresses.  Only
nodes with matching MAC addresses will be returned.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param id:</th><td class="field-body">An optional list of system ids.  Only nodes with
matching system ids will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">param zone:</th><td class="field-body">An optional name for a physical zone. Only nodes in the
zone will be returned.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param agent_name:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">An optional agent name.  Only nodes with
matching agent names will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">param level:</th><td class="field-body">Desired minimum log level of returned events. Returns
this level of events and greater. Choose from: DEBUG, INFO, WARNING, CRITICAL, ERROR.
The default is INFO.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="fabric">
<h3>Fabric<a class="headerlink" href="api.html#fabric" title="Permalink to this headline">¶</a></h3>
<p>Manage fabric.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/fabrics/{fabric_id}/</span></code></dt>
<dd><p class="first">Delete fabric.</p>
<p class="last">Returns 404 if the fabric is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/fabrics/{fabric_id}/</span></code></dt>
<dd><p class="first">Read fabric.</p>
<p class="last">Returns 404 if the fabric is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/fabrics/{fabric_id}/</span></code></dt>
<dd><p class="first">Update fabric.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the fabric.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param class_type:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Class type of the fabric.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the fabric is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="fabrics">
<h3>Fabrics<a class="headerlink" href="api.html#fabrics" title="Permalink to this headline">¶</a></h3>
<p>Manage fabrics.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/fabrics/</span></code></dt>
<dd>List all fabrics.</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/fabrics/</span></code></dt>
<dd><p class="first">Create a fabric.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the fabric.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param class_type:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Class type of the fabric.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="fan-network">
<h3>Fan Network<a class="headerlink" href="api.html#fan-network" title="Permalink to this headline">¶</a></h3>
<p>Manage Fan Network.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/fannetworks/{fannetwork_id}/</span></code></dt>
<dd><p class="first">Delete fannetwork.</p>
<p class="last">Returns 404 if the fannetwork is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/fannetworks/{fannetwork_id}/</span></code></dt>
<dd><p class="first">Read fannetwork.</p>
<p class="last">Returns 404 if the fannetwork is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/fannetworks/{fannetwork_id}/</span></code></dt>
<dd><p class="first">Update fannetwork.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the fannetwork.</td>
</tr>
<tr class="field-even field"><th class="field-name">param overlay:</th><td class="field-body">Overlay network</td>
</tr>
<tr class="field-odd field"><th class="field-name">param underlay:</th><td class="field-body">Underlay network</td>
</tr>
<tr class="field-even field"><th class="field-name">param dhcp:</th><td class="field-body">confiugre dhcp server for overlay net</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param host_reserve:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">number of IP addresses to reserve for host</td>
</tr>
<tr class="field-even field"><th class="field-name">param bridge:</th><td class="field-body">override bridge name</td>
</tr>
<tr class="field-odd field"><th class="field-name">param off:</th><td class="field-body">put this int he config, but disable it.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the fannetwork is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="fan-networks">
<h3>Fan Networks<a class="headerlink" href="api.html#fan-networks" title="Permalink to this headline">¶</a></h3>
<p>Manage Fan Networks.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/fannetworks/</span></code></dt>
<dd>List all fannetworks.</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/fannetworks/</span></code></dt>
<dd><p class="first">Create a fannetwork.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the fannetwork.</td>
</tr>
<tr class="field-even field"><th class="field-name">param overlay:</th><td class="field-body">Overlay network</td>
</tr>
<tr class="field-odd field"><th class="field-name">param underlay:</th><td class="field-body">Underlay network</td>
</tr>
<tr class="field-even field"><th class="field-name">param dhcp:</th><td class="field-body">confiugre dhcp server for overlay net</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param host_reserve:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">number of IP addresses to reserve for host</td>
</tr>
<tr class="field-even field"><th class="field-name">param bridge:</th><td class="field-body">override bridge name</td>
</tr>
<tr class="field-odd field"><th class="field-name">param off:</th><td class="field-body">put this int he config, but disable it.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="file">
<h3>File<a class="headerlink" href="api.html#file" title="Permalink to this headline">¶</a></h3>
<p>Manage a FileStorage object.</p>
<blockquote>
<div>The file is identified by its filename and owner.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/files/{filename}/</span></code></dt>
<dd>Delete a FileStorage object.</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/files/{filename}/</span></code></dt>
<dd><p class="first">GET a FileStorage object as a json object.</p>
<p class="last">The &#8216;content&#8217; of the file is base64-encoded.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/files/{filename}/</span></code> <code class="docutils literal"><span class="pre">op=delete</span></code></p>
<blockquote>
<div>Delete a FileStorage object.</div></blockquote>
</div>
<div class="section" id="files">
<h3>Files<a class="headerlink" href="api.html#files" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of all the files in this MAAS.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/files/</span></code> <code class="docutils literal"><span class="pre">op=get</span></code></p>
<blockquote>
<div><p>Get a named file from the file storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param filename:</th><td class="field-body">The exact name of the file you want to get.</td>
</tr>
<tr class="field-even field"><th class="field-name">type filename:</th><td class="field-body">string</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">The file is returned in the response content.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/files/</span></code> <code class="docutils literal"><span class="pre">op=get_by_key</span></code></p>
<blockquote>
<div><p>Get a file from the file storage using its key.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param key:</th><td class="field-body">The exact key of the file you want to get.</td>
</tr>
<tr class="field-even field"><th class="field-name">type key:</th><td class="field-body">string</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">The file is returned in the response content.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/files/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div><p>List the files from the file storage.</p>
<p>The returned files are ordered by file name and the content is
excluded.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param prefix:</th><td class="field-body">Optional prefix used to filter out the returned files.</td>
</tr>
<tr class="field-even field"><th class="field-name">type prefix:</th><td class="field-body">string</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/files/</span></code> <code class="docutils literal"><span class="pre">op=add</span></code></p>
<blockquote>
<div><p>Add a new file to the file storage.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param filename:</th><td class="field-body">The file name to use in the storage.</td>
</tr>
<tr class="field-even field"><th class="field-name">type filename:</th><td class="field-body">string</td>
</tr>
<tr class="field-odd field"><th class="field-name">param file:</th><td class="field-body">Actual file data with content type
application/octet-stream</td>
</tr>
</tbody>
</table>
<dl class="docutils">
<dt>Returns 400 if any of these conditions apply:</dt>
<dd><ul class="first last simple">
<li>The filename is missing from the parameters</li>
<li>The file data is missing</li>
<li>More than one file is supplied</li>
</ul>
</dd>
</dl>
</div></blockquote>
</div>
<div class="section" id="ip-addresses">
<h3>IP Addresses<a class="headerlink" href="api.html#ip-addresses" title="Permalink to this headline">¶</a></h3>
<p>Manage IP addresses allocated by MAAS.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/ipaddresses/</span></code></dt>
<dd><p class="first">List IPAddresses.</p>
<p class="last">Get a listing of all IPAddresses allocated to the requesting user.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/ipaddresses/</span></code> <code class="docutils literal"><span class="pre">op=release</span></code></p>
<blockquote>
<div><p>Release an IP address that was previously reserved by the user.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param ip:</th><td class="field-body">The IP address to release.</td>
</tr>
<tr class="field-even field"><th class="field-name">type ip:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the provided IP address is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/ipaddresses/</span></code> <code class="docutils literal"><span class="pre">op=reserve</span></code></p>
<blockquote>
<div><p>Reserve an IP address for use outside of MAAS.</p>
<p>Returns an IP adddress, which MAAS will not allow any of its known
devices and Nodes to use; it is free for use by the requesting user
until released by the user.</p>
<p>The user may supply either a range matching the subnet of an
existing cluster interface, or a specific IP address within the
static IP address range on a cluster interface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param network:</th><td class="field-body">CIDR representation of the network on which the IP
reservation is required. e.g. 10.1.2.0/24</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param requested_address:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">the requested address, which must be within
a static IP address range managed by MAAS.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param hostname:</th><td class="field-body">the hostname to use for the specified IP address</td>
</tr>
<tr class="field-even field"><th class="field-name">type network:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 400 if there is no network in MAAS matching the provided one,
or a requested_address is supplied, but a corresponding network
could not be found.
Returns 503 if there are no more IP addresses available.</p>
</div></blockquote>
</div>
<div class="section" id="interface">
<h3>Interface<a class="headerlink" href="api.html#interface" title="Permalink to this headline">¶</a></h3>
<p>Manage a node&#8217;s or device&#8217;s interface.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code></dt>
<dd><p class="first">Delete interface on node.</p>
<p class="last">Returns 404 if the node or interface is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code></dt>
<dd><p class="first">Read interface on node.</p>
<p class="last">Returns 404 if the node or interface is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code> <code class="docutils literal"><span class="pre">op=link_subnet</span></code></p>
<blockquote>
<div><p>Link interface to a subnet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mode:</th><td class="field-body">AUTO, DHCP, STATIC or LINK_UP connection to subnet.</td>
</tr>
<tr class="field-even field"><th class="field-name">param subnet:</th><td class="field-body">Subnet linked to interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param ip_address:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">IP address for the interface in subnet. Only used
when mode is STATIC. If not provided an IP address from subnet
will be auto selected.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param default_gateway:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">True sets the gateway IP address for the subnet
as the default gateway for the node this interface belongs to.
Option can only be used with the AUTO and STATIC modes.</td>
</tr>
</tbody>
</table>
<p>Mode definitions:
AUTO - Assign this interface a static IP address from the provided
subnet. The subnet must be a managed subnet. The IP address will
not be assigned until the node goes to be deployed.</p>
<p>DHCP - Bring this interface up with DHCP on the given subnet. Only
one subnet can be set to DHCP. If the subnet is managed this
interface will pull from the dynamic IP range.</p>
<p>STATIC - Bring this interface up with a STATIC IP address on the
given subnet. Any number of STATIC links can exist on an interface.</p>
<p>LINK_UP - Bring this interface up only on the given subnet. No IP
address will be assigned to this interface. The interface cannot
have any current AUTO, DHCP or STATIC links.</p>
<p>Returns 404 if the node or interface is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code> <code class="docutils literal"><span class="pre">op=set_default_gateway</span></code></p>
<blockquote>
<div><p>Set the node to use this interface as the default gateway.</p>
<p>If this interface has more than one subnet with a gateway IP in the
same IP address family then specifying the ID of the link on
this interface is required.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param link_id:</th><td class="field-body">ID of the link on this interface to select the
default gateway IP address from.</td>
</tr>
</tbody>
</table>
<p>Returns 400 if the interface has not AUTO or STATIC links.
Returns 404 if the node or interface is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code> <code class="docutils literal"><span class="pre">op=unlink_subnet</span></code></p>
<blockquote>
<div><p>Unlink interface to a subnet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param id:</th><td class="field-body">ID of the link on the interface to remove.</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node or interface is not found.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code></dt>
<dd><p class="first">Update interface on node.</p>
<p>Fields for physical interface:
:param name: Name of the interface.
:param mac_address: MAC address of the interface.
:param tags: Tags for the interface.
:param vlan: Untagged VLAN the interface is connected to.</p>
<p>Fields for bond interface:
:param name: Name of the interface.
:param mac_address: MAC address of the interface.
:param tags: Tags for the interface.
:param vlan: Tagged VLAN the interface is connected to.
:param parents: Parent interfaces that make this bond.</p>
<p>Fields for VLAN interface:
:param tags: Tags for the interface.
:param vlan: VLAN the interface is connected to.
:param parent: Parent interface for this VLAN interface.</p>
<p>Following are extra parameters that can be set on all interface types:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mtu:</th><td class="field-body">Maximum transmission unit.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param accept_ra:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Accept router advertisements. (IPv6 only)</td>
</tr>
<tr class="field-odd field"><th class="field-name">param autoconf:</th><td class="field-body">Perform stateless autoconfiguration. (IPv6 only)</td>
</tr>
</tbody>
</table>
<p>Following are parameters specific to bonds:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param bond-mode:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The operating mode of the bond.
(Default: active-backup).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond-miimon:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The link monitoring freqeuncy in milliseconds.
(Default: 100).</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param bond-downdelay:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Specifies the time, in milliseconds, to wait
before disabling a slave after a link failure has been detected.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond-updelay:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Specifies the time, in milliseconds, to wait
before enabling a slave after a link recovery has been detected.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param bond-lacp_rate:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Option specifying the rate in which we&#8217;ll ask
our link partner to transmit LACPDU packets in 802.3ad mode.
Available options are fast or slow. (Default: slow).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond-xmit_hash_policy:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The transmit hash policy to use for
slave selection in balance-xor, 802.3ad, and tlb modes.</td>
</tr>
</tbody>
</table>
<p>Supported bonding modes (bond-mode):
balance-rr - Transmit packets in sequential order from the first
available slave through the last.  This mode provides load balancing
and fault tolerance.</p>
<p>active-backup - Only one slave in the bond is active.  A different
slave becomes active if, and only if, the active slave fails.  The
bond&#8217;s MAC address is externally visible on only one port (network
adapter) to avoid confusing the switch.</p>
<p>balance-xor - Transmit based on the selected transmit hash policy.
The default policy is a simple [(source MAC address XOR&#8217;d with
destination MAC address XOR packet type ID) modulo slave count].</p>
<p>broadcast - Transmits everything on all slave interfaces. This mode
provides fault tolerance.</p>
<p>802.3ad - IEEE 802.3ad Dynamic link aggregation.  Creates aggregation
groups that share the same speed and duplex settings.  Utilizes all
slaves in the active aggregator according to the 802.3ad specification.</p>
<p>balance-tlb - Adaptive transmit load balancing: channel bonding that
does not require any special switch support.</p>
<p>balance-alb - Adaptive load balancing: includes balance-tlb plus
receive load balancing (rlb) for IPV4 traffic, and does not require any
special switch support.  The receive load balancing is achieved by
ARP negotiation.</p>
<p class="last">Returns 404 if the node or interface is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="interfaces">
<h3>Interfaces<a class="headerlink" href="api.html#interfaces" title="Permalink to this headline">¶</a></h3>
<p>Manage interfaces on a node or device.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/</span></code></dt>
<dd><p class="first">List all interfaces belonging to a node or device.</p>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/</span></code> <code class="docutils literal"><span class="pre">op=create_bond</span></code></p>
<blockquote>
<div><p>Create a bond interface on node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the interface.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param mac_address:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">MAC address of the interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param tags:</th><td class="field-body">Tags for the interface.</td>
</tr>
<tr class="field-even field"><th class="field-name">param vlan:</th><td class="field-body">VLAN the interface is connected to.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param parents:</th><td class="field-body">Parent interfaces that make this bond.</td>
</tr>
</tbody>
</table>
<p>Following are parameters specific to bonds:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param bond_mode:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The operating mode of the bond.
(Default: active-backup).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond_miimon:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The link monitoring freqeuncy in milliseconds.
(Default: 100).</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param bond_downdelay:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Specifies the time, in milliseconds, to wait
before disabling a slave after a link failure has been detected.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond_updelay:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Specifies the time, in milliseconds, to wait
before enabling a slave after a link recovery has been detected.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param bond_lacp_rate:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Option specifying the rate in which we&#8217;ll ask
our link partner to transmit LACPDU packets in 802.3ad mode.
Available options are fast or slow. (Default: slow).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond_xmit_hash_policy:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The transmit hash policy to use for
slave selection in balance-xor, 802.3ad, and tlb modes.
(Default: layer2)</td>
</tr>
</tbody>
</table>
<p>Supported bonding modes (bond-mode):
balance-rr - Transmit packets in sequential order from the first
available slave through the last.  This mode provides load balancing
and fault tolerance.</p>
<p>active-backup - Only one slave in the bond is active.  A different
slave becomes active if, and only if, the active slave fails.  The
bond&#8217;s MAC address is externally visible on only one port (network
adapter) to avoid confusing the switch.</p>
<p>balance-xor - Transmit based on the selected transmit hash policy.
The default policy is a simple [(source MAC address XOR&#8217;d with
destination MAC address XOR packet type ID) modulo slave count].</p>
<p>broadcast - Transmits everything on all slave interfaces. This mode
provides fault tolerance.</p>
<p>802.3ad - IEEE 802.3ad Dynamic link aggregation.  Creates aggregation
groups that share the same speed and duplex settings.  Utilizes all
slaves in the active aggregator according to the 802.3ad specification.</p>
<p>balance-tlb - Adaptive transmit load balancing: channel bonding that
does not require any special switch support.</p>
<p>balance-alb - Adaptive load balancing: includes balance-tlb plus
receive load balancing (rlb) for IPV4 traffic, and does not require any
special switch support.  The receive load balancing is achieved by
ARP negotiation.</p>
<p>Following are extra parameters that can be set on the interface:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mtu:</th><td class="field-body">Maximum transmission unit.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param accept_ra:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Accept router advertisements. (IPv6 only)</td>
</tr>
<tr class="field-odd field"><th class="field-name">param autoconf:</th><td class="field-body">Perform stateless autoconfiguration. (IPv6 only)</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/</span></code> <code class="docutils literal"><span class="pre">op=create_physical</span></code></p>
<blockquote>
<div><p>Create a physical interface on a node or device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the interface.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param mac_address:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">MAC address of the interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param tags:</th><td class="field-body">Tags for the interface.</td>
</tr>
<tr class="field-even field"><th class="field-name">param vlan:</th><td class="field-body">Untagged VLAN the interface is connected to.</td>
</tr>
</tbody>
</table>
<p>Following are extra parameters that can be set on the interface:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mtu:</th><td class="field-body">Maximum transmission unit.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param accept_ra:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Accept router advertisements. (IPv6 only)</td>
</tr>
<tr class="field-odd field"><th class="field-name">param autoconf:</th><td class="field-body">Perform stateless autoconfiguration. (IPv6 only)</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/</span></code> <code class="docutils literal"><span class="pre">op=create_vlan</span></code></p>
<blockquote>
<div><p>Create a VLAN interface on node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param tags:</th><td class="field-body">Tags for the interface.</td>
</tr>
<tr class="field-even field"><th class="field-name">param vlan:</th><td class="field-body">Tagged VLAN the interface is connected to.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param parent:</th><td class="field-body">Parent interface for this VLAN interface.</td>
</tr>
</tbody>
</table>
<p>Following are extra parameters that can be set on the interface:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mtu:</th><td class="field-body">Maximum transmission unit.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param accept_ra:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Accept router advertisements. (IPv6 only)</td>
</tr>
<tr class="field-odd field"><th class="field-name">param autoconf:</th><td class="field-body">Perform stateless autoconfiguration. (IPv6 only)</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node is not found.</p>
</div></blockquote>
</div>
<div class="section" id="license-key">
<h3>License Key<a class="headerlink" href="api.html#license-key" title="Permalink to this headline">¶</a></h3>
<p>Manage a license key.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/license-key/{osystem}/{distro_series}</span></code></dt>
<dd>Delete license key.</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/license-key/{osystem}/{distro_series}</span></code></dt>
<dd>Read license key.</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/license-key/{osystem}/{distro_series}</span></code></dt>
<dd><p class="first">Update license key.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param osystem:</th><td class="field-body">Operating system that the key belongs to.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param distro_series:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">OS release that the key belongs to.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param license_key:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">License key for osystem/distro_series combo.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="license-keys">
<h3>License Keys<a class="headerlink" href="api.html#license-keys" title="Permalink to this headline">¶</a></h3>
<p>Manage the license keys.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/license-keys/</span></code></dt>
<dd>List license keys.</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/license-keys/</span></code></dt>
<dd><p class="first">Define a license key.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param osystem:</th><td class="field-body">Operating system that the key belongs to.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param distro_series:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">OS release that the key belongs to.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param license_key:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">License key for osystem/distro_series combo.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="maas-server">
<h3>MAAS server<a class="headerlink" href="api.html#maas-server" title="Permalink to this headline">¶</a></h3>
<p>Manage the MAAS server.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/maas/</span></code> <code class="docutils literal"><span class="pre">op=get_config</span></code></p>
<blockquote>
<div><p>Get a config value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">The name of the config item to be retrieved.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Available configuration items:
- enable_http_proxy: Enable the use of an APT and HTTP/HTTPS proxy.         Provision nodes to use the built-in HTTP proxy (or user specified proxy) for APT. MAAS also uses the proxy for downloading boot images.
- upstream_dns: Upstream DNS used to resolve domains not managed by this MAAS (space-separated IP addresses).         Only used when MAAS is running its own DNS server. This value is used as the value of &#8216;forwarders&#8217; in the DNS server config.
- default_storage_layout: Default storage layout.         Storage layout that is applied to a node when it is commissioned.        Available choices are: &#8216;lvm&#8217; (LVM layout), &#8216;flat&#8217; (Flat layout), &#8216;bcache&#8217; (Bcache layout).
- default_osystem: Default operating system used for deployment.
- ports_archive: Ports archive.         Archive used by nodes to retrieve packages for non-Intel architectures. E.g. <a class="reference external" href="http://ports.ubuntu.com/ubuntu-ports">http://ports.ubuntu.com/ubuntu-ports</a>.
- http_proxy: Proxy for APT and HTTP/HTTPS.         This will be passed onto provisioned nodes to use as a proxy for APT traffic. MAAS also uses the proxy for downloading boot images. If no URL is provided, the built-in MAAS proxy will be used.
- boot_images_auto_import: Automatically import/refresh the boot images every 60 minutes.
- enable_third_party_drivers: Enable the installation of proprietary drivers (i.e. HPVSA).
- kernel_opts: Boot parameters to pass to the kernel by default.
- main_archive: Main archive.         Archive used by nodes to retrieve packages for Intel architectures. E.g. <a class="reference external" href="http://archive.ubuntu.com/ubuntu">http://archive.ubuntu.com/ubuntu</a>.
- maas_name: MAAS name.
- curtin_verbose: Run the fast-path installer with higher verbosity. This provides more detail in the installation logs..
- dnssec_validation: Enable DNSSEC validation of upstream zones.         Only used when MAAS is running its own DNS server. This value is used as the value of &#8216;dnssec_validation&#8217; in the DNS server config.
- commissioning_distro_series: Default Ubuntu release used for commissioning.
- windows_kms_host: Windows KMS activation host.         FQDN or IP address of the host that provides the KMS Windows activation service. (Only needed for Windows deployments using KMS activation.)
- enable_disk_erasing_on_release: Erase nodes&#8217; disks prior to releasing..
- default_distro_series: Default OS release used for deployment.
- ntp_server: Address of NTP server for nodes.         NTP server address passed to nodes via a DHCP response. e.g. ntp.ubuntu.com
- default_min_hwe_kernel: Default Minimum Kernel Version.         The default minimum kernel version used on all new and commissioned nodes.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/maas/</span></code> <code class="docutils literal"><span class="pre">op=set_config</span></code></p>
<blockquote>
<div><p>Set a config value.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">The name of the config item to be set.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param value:</th><td class="field-body">The value of the config item to be set.</td>
</tr>
<tr class="field-even field"><th class="field-name">type value:</th><td class="field-body">json object</td>
</tr>
</tbody>
</table>
<p>Available configuration items:
- enable_http_proxy: Enable the use of an APT and HTTP/HTTPS proxy.         Provision nodes to use the built-in HTTP proxy (or user specified proxy) for APT. MAAS also uses the proxy for downloading boot images.
- upstream_dns: Upstream DNS used to resolve domains not managed by this MAAS (space-separated IP addresses).         Only used when MAAS is running its own DNS server. This value is used as the value of &#8216;forwarders&#8217; in the DNS server config.
- default_storage_layout: Default storage layout.         Storage layout that is applied to a node when it is commissioned.        Available choices are: &#8216;lvm&#8217; (LVM layout), &#8216;flat&#8217; (Flat layout), &#8216;bcache&#8217; (Bcache layout).
- default_osystem: Default operating system used for deployment.
- ports_archive: Ports archive.         Archive used by nodes to retrieve packages for non-Intel architectures. E.g. <a class="reference external" href="http://ports.ubuntu.com/ubuntu-ports">http://ports.ubuntu.com/ubuntu-ports</a>.
- http_proxy: Proxy for APT and HTTP/HTTPS.         This will be passed onto provisioned nodes to use as a proxy for APT traffic. MAAS also uses the proxy for downloading boot images. If no URL is provided, the built-in MAAS proxy will be used.
- boot_images_auto_import: Automatically import/refresh the boot images every 60 minutes.
- enable_third_party_drivers: Enable the installation of proprietary drivers (i.e. HPVSA).
- kernel_opts: Boot parameters to pass to the kernel by default.
- main_archive: Main archive.         Archive used by nodes to retrieve packages for Intel architectures. E.g. <a class="reference external" href="http://archive.ubuntu.com/ubuntu">http://archive.ubuntu.com/ubuntu</a>.
- maas_name: MAAS name.
- curtin_verbose: Run the fast-path installer with higher verbosity. This provides more detail in the installation logs..
- dnssec_validation: Enable DNSSEC validation of upstream zones.         Only used when MAAS is running its own DNS server. This value is used as the value of &#8216;dnssec_validation&#8217; in the DNS server config.
- commissioning_distro_series: Default Ubuntu release used for commissioning.
- windows_kms_host: Windows KMS activation host.         FQDN or IP address of the host that provides the KMS Windows activation service. (Only needed for Windows deployments using KMS activation.)
- enable_disk_erasing_on_release: Erase nodes&#8217; disks prior to releasing..
- default_distro_series: Default OS release used for deployment.
- ntp_server: Address of NTP server for nodes.         NTP server address passed to nodes via a DHCP response. e.g. ntp.ubuntu.com
- default_min_hwe_kernel: Default Minimum Kernel Version.         The default minimum kernel version used on all new and commissioned nodes.</p>
</div></blockquote>
</div>
<div class="section" id="network">
<h3>Network<a class="headerlink" href="api.html#network" title="Permalink to this headline">¶</a></h3>
<p>Manage a network.</p>
<blockquote>
<div>This endpoint is deprecated. Use the new &#8216;subnet&#8217; endpoint instead.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/networks/{name}/</span></code></dt>
<dd><p class="first">Delete network definition.</p>
<p class="last">This endpoint is no longer available. Use the &#8216;subnet&#8217; endpoint
instead.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/networks/{name}/</span></code></dt>
<dd>Read network definition.</dd>
</dl>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/networks/{name}/</span></code> <code class="docutils literal"><span class="pre">op=list_connected_macs</span></code></p>
<blockquote>
<div><p>Returns the list of MAC addresses connected to this network.</p>
<p>Only MAC addresses for nodes visible to the requesting user are
returned.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/networks/{name}/</span></code> <code class="docutils literal"><span class="pre">op=connect_macs</span></code></p>
<blockquote>
<div><p>Connect the given MAC addresses to this network.</p>
<p>This endpoint is no longer available. Use the &#8216;subnet&#8217; endpoint
instead.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/networks/{name}/</span></code> <code class="docutils literal"><span class="pre">op=disconnect_macs</span></code></p>
<blockquote>
<div><p>Disconnect the given MAC addresses from this network.</p>
<p>This endpoint is no longer available. Use the &#8216;subnet&#8217; endpoint
instead.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/networks/{name}/</span></code></dt>
<dd><p class="first">Update network definition.</p>
<p>This endpoint is no longer available. Use the &#8216;subnet&#8217; endpoint
instead.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">A simple name for the network, to make it easier to
refer to.  Must consist only of letters, digits, dashes, and
underscores.</td>
</tr>
<tr class="field-even field"><th class="field-name">param ip:</th><td class="field-body">Base IP address for the network, e.g. <cite>10.1.0.0</cite>.  The host
bits will be zeroed.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param netmask:</th><td class="field-body">Subnet mask to indicate which parts of an IP address
are part of the network address.  For example, <cite>255.255.255.0</cite>.</td>
</tr>
<tr class="field-even field"><th class="field-name">param vlan_tag:</th><td class="field-body">Optional VLAN tag: a number between 1 and 0xffe (4094)
inclusive, or zero for an untagged network.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param description:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Detailed description of the network for the benefit
of users and administrators.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="networks">
<h3>Networks<a class="headerlink" href="api.html#networks" title="Permalink to this headline">¶</a></h3>
<p>Manage the networks.</p>
<blockquote>
<div>This endpoint is deprecated. Use the new &#8216;subnets&#8217; endpoint instead.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/networks/</span></code></dt>
<dd><p class="first">List networks.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param node:</th><td class="field-body">Optionally, nodes which must be attached to any returned
networks.  If more than one node is given, the result will be
restricted to networks that these nodes have in common.</td>
</tr>
</tbody>
</table>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/networks/</span></code></dt>
<dd><p class="first">Define a network.</p>
<p class="last">This endpoint is no longer available. Use the &#8216;subnets&#8217; endpoint
instead.</p>
</dd>
</dl>
</div>
<div class="section" id="nodegroup">
<h3>Nodegroup<a class="headerlink" href="api.html#nodegroup" title="Permalink to this headline">¶</a></h3>
<p>Manage a NodeGroup.</p>
<blockquote>
<div><p>NodeGroup is the internal name for a cluster.</p>
<p>The NodeGroup is identified by its UUID, a random identifier that looks
something like:</p>
<blockquote>
<div>5977f6ab-9160-4352-b4db-d71a99066c4f</div></blockquote>
<p>Each NodeGroup has its own uuid.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code></dt>
<dd><p class="first">GET a node group.</p>
<p class="last">Returns 404 if the nodegroup (cluster) is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code> <code class="docutils literal"><span class="pre">op=list_nodes</span></code></p>
<blockquote>
<div><p>Get the list of node ids that are part of this group.</p>
<p>Returns 404 if the nodegroup (cluster) is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code> <code class="docutils literal"><span class="pre">op=details</span></code></p>
<blockquote>
<div><p>Obtain various system details for each node specified.</p>
<p>For example, LLDP and <code class="docutils literal"><span class="pre">lshw</span></code> XML dumps.</p>
<p>Returns a <code class="docutils literal"><span class="pre">{system_id:</span> <span class="pre">{detail_type:</span> <span class="pre">xml,</span> <span class="pre">...},</span> <span class="pre">...}</span></code> map,
where <code class="docutils literal"><span class="pre">detail_type</span></code> is something like &#8220;lldp&#8221; or &#8220;lshw&#8221;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param system_ids:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">System ids of nodes for which to get system details.</td>
</tr>
</tbody>
</table>
<p>Note that this is returned as BSON and not JSON. This is for
efficiency, but mainly because JSON can&#8217;t do binary content
without applying additional encoding like base-64.</p>
<p>For security purposes:</p>
<ol class="loweralpha simple">
<li>Requests are only fulfilled for the worker assigned to the
nodegroup.</li>
<li>Requests for nodes that are not part of the nodegroup are
just ignored.</li>
</ol>
<p>Returns 404 if the nodegroup (cluster) is not found.
Returns 403 if the user does not have access to the nodegroup.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code> <code class="docutils literal"><span class="pre">op=import_boot_images</span></code></p>
<blockquote>
<div><p>Import the pxe files on this cluster controller.</p>
<p>Returns 404 if the nodegroup (cluster) is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code> <code class="docutils literal"><span class="pre">op=probe_and_enlist_hardware</span></code></p>
<blockquote>
<div><p>Add special hardware types.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param model:</th><td class="field-body"><p class="first">The type of hardware. &#8216;seamicro15k&#8217;, &#8216;virsh&#8217;, &#8216;vmware&#8217;,
&#8216;powerkvm&#8217;, &#8216;mscm&#8217;, &#8216;msftocs&#8217; and &#8216;ucsm&#8217; are supported.</p>
<p>seamicro15k is the model for the Seamicro 1500 Chassis.
virsh is the model for Virtual Machines managed by Virsh.
powerkvm is the model for Virtual Machines on Power KVM,
managed by Virsh.
mscm is the model for the Moonshot Chassis Manager.
msftocs is the model for the Microsoft OCS Chassis Manager.
ucsm is the model for the Cisco UCS Manager.</p>
</td>
</tr>
<tr class="field-even field"><th class="field-name">type model:</th><td class="field-body"><p class="first last">unicode</p>
</td>
</tr>
</tbody>
</table>
<p>The following are optional for all models:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param accept_all:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">If true, all enlisted nodes will be
commissioned.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type accept_all:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The following are required if you are probing seamicro15k:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mac:</th><td class="field-body">The MAC of the seamicro15k chassis.</td>
</tr>
<tr class="field-even field"><th class="field-name">type mac:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param username:</th><td class="field-body">The username for the chassis.</td>
</tr>
<tr class="field-even field"><th class="field-name">type username:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param password:</th><td class="field-body">The password for the chassis.</td>
</tr>
<tr class="field-even field"><th class="field-name">type password:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The following are optional if you are probing seamicro15k:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param power_control:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The power_control to use, either ipmi (default)
or restapi.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type power_control:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The following are required if you are probing virsh:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param power_address:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The connection string to virsh.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type power_address:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The following are optional if you are probing virsh:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param power_pass:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The password to use, when qemu+ssh is given as a
connection string and ssh key authentication is not being used.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type power_pass:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param prefix_filter:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Filter nodes with supplied prefix.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type prefix_filter:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The following are required if you are probing vmware:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param host:</th><td class="field-body">The VMware hostname or IP address</td>
</tr>
<tr class="field-even field"><th class="field-name">type host:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param username:</th><td class="field-body">The VMware API username</td>
</tr>
<tr class="field-even field"><th class="field-name">type username:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param password:</th><td class="field-body">The VMware API password</td>
</tr>
<tr class="field-even field"><th class="field-name">type password:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The following are optional if you are probing vmware:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param protocol:</th><td class="field-body">The VMware API protocol (default: https)</td>
</tr>
<tr class="field-even field"><th class="field-name">type protocol:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param port:</th><td class="field-body">The VMware API port (default: 443)</td>
</tr>
<tr class="field-even field"><th class="field-name">type port:</th><td class="field-body">integer</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param prefix_filter:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Filter nodes with supplied prefix.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type prefix_filter:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The following are required if you are probing mscm:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param host:</th><td class="field-body">IP Address for the Moonshot Chassis Manager.</td>
</tr>
<tr class="field-even field"><th class="field-name">type host:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param username:</th><td class="field-body">The username for the Moonshot Chassis Manager.</td>
</tr>
<tr class="field-even field"><th class="field-name">type username:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param password:</th><td class="field-body">The password for the Moonshot Chassis Manager.</td>
</tr>
<tr class="field-even field"><th class="field-name">type password:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The followeing are required if you are probing msftocs:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param ip:</th><td class="field-body">IP Address for the Microsoft OCS Chassis.</td>
</tr>
<tr class="field-even field"><th class="field-name">type ip:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param port:</th><td class="field-body">Port for the Microsoft OCS Chassis.</td>
</tr>
<tr class="field-even field"><th class="field-name">type port:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param username:</th><td class="field-body">The username for the Microsoft OCS Chassis.</td>
</tr>
<tr class="field-even field"><th class="field-name">type username:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param password:</th><td class="field-body">The password for the Microsoft OCS Chassis.</td>
</tr>
<tr class="field-even field"><th class="field-name">type password:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>The followeing are required if you are probing a ucsm:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param url:</th><td class="field-body">The URL of the UCS Manager API.</td>
</tr>
<tr class="field-even field"><th class="field-name">type url:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param username:</th><td class="field-body">The username for the UCS Manager API.</td>
</tr>
<tr class="field-even field"><th class="field-name">type username:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param password:</th><td class="field-body">The password for the UCS Manager API.</td>
</tr>
<tr class="field-even field"><th class="field-name">type password:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the nodegroup (cluster) is not found.
Returns 403 if the user does not have access to the nodegroup.
Returns 400 if the required parameters were not passed.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code> <code class="docutils literal"><span class="pre">op=probe_and_enlist_mscm</span></code></p>
<blockquote>
<div><p>Add the nodes from a Moonshot HP iLO Chassis Manager (MSCM).</p>
<p><strong>Warning: this API is deprecated in favor of
probe_and_enlist_hardware.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param host:</th><td class="field-body">IP Address for the MSCM.</td>
</tr>
<tr class="field-even field"><th class="field-name">type host:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param username:</th><td class="field-body">The username for the MSCM.</td>
</tr>
<tr class="field-even field"><th class="field-name">type username:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param password:</th><td class="field-body">The password for the MSCM.</td>
</tr>
<tr class="field-even field"><th class="field-name">type password:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param accept_all:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">If true, all enlisted nodes will be
commissioned.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type accept_all:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the nodegroup (cluster) is not found.
Returns 403 if the user does not have access to the nodegroup.
Returns 400 if the required parameters were not passed.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code> <code class="docutils literal"><span class="pre">op=probe_and_enlist_ucsm</span></code></p>
<blockquote>
<div><p>Add the nodes from a Cisco UCS Manager.</p>
<p><strong>Warning: this API is deprecated in favor of
probe_and_enlist_hardware.</strong></p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param url:</th><td class="field-body">The URL of the UCS Manager API.</td>
</tr>
<tr class="field-even field"><th class="field-name">type url:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param username:</th><td class="field-body">The username for the API.</td>
</tr>
<tr class="field-even field"><th class="field-name">type username:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param password:</th><td class="field-body">The password for the API.</td>
</tr>
<tr class="field-even field"><th class="field-name">type password:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param accept_all:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">If true, all enlisted nodes will be
commissioned.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type accept_all:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the nodegroup (cluster) is not found.
Returns 403 if the user does not have access to the nodegroup.
Returns 400 if the required parameters were not passed.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code> <code class="docutils literal"><span class="pre">op=report_download_progress</span></code></p>
<blockquote>
<div><p>Report progress of a download.</p>
<p>Cluster controllers can call this to update the region controller on
file downloads they need to perform, such as kernels and initrd files.
This gives the administrator insight into what downloads are in
progress, how well downloads are going, and what failures may have
occurred.</p>
<p>A file is identified by an arbitrary name, which must be consistent.
It could be a URL, or a filesystem path, or even a symbolic name that
the cluster controller makes up.  A cluster controller can download
the same file many times over, but not simultaneously.</p>
<p>Before downloading a file, a cluster controller first reports progress
without the <cite>bytes_downloaded</cite> parameter.  It may optionally report
progress while downloading, passing the number of bytes downloaded
so far.  Finally, if the download succeeded, it should report one final
time with the full number of bytes downloaded.</p>
<p>If the download fails, the cluster controller should report progress
with an error string (and either the number of bytes that were
successfully downloaded, or zero).</p>
<p>Progress reports should include the file&#8217;s size, if known.  The final
report after a successful download must include the size.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param filename:</th><td class="field-body">Arbitrary identifier for the file being downloaded.</td>
</tr>
<tr class="field-even field"><th class="field-name">type filename:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param size:</th><td class="field-body">Optional size of the file, in bytes.  Must be passed at
least once, though it can still be passed on subsequent calls.  If
file size is not known, pass it at the end when reporting
successful completion.  Do not change the size once given.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bytes_downloaded:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Number of bytes that have been successfully
downloaded.  Cannot exceed <cite>size</cite>, if known.  This parameter must
be omitted from the initial progress report before download starts,
and must be included for all subsequent progress reports for that
download.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type bytes_downloaded:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">int</td>
</tr>
<tr class="field-even field"><th class="field-name">param error:</th><td class="field-body">Optional error string.  A download that has submitted an
error with its last progress report is considered to have failed.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type error:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the nodegroup (cluster) is not found.
Returns 403 if the user does not have access to the nodegroup.
Returns 400 if the required parameters were not passed.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodegroups/{uuid}/</span></code></dt>
<dd><p class="first">Update a specific cluster.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">The new DNS name for this cluster.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param cluster_name:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The new name for this cluster.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type cluster_name:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param status:</th><td class="field-body">The new status for this cluster (see
vocabulary <cite>NODEGROUP_STATUS</cite>).</td>
</tr>
<tr class="field-even field"><th class="field-name">type status:</th><td class="field-body">int</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the nodegroup (cluster) is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="nodegroup-interface">
<h3>Nodegroup interface<a class="headerlink" href="api.html#nodegroup-interface" title="Permalink to this headline">¶</a></h3>
<p>Manage a NodeGroupInterface.</p>
<blockquote>
<div>A NodeGroupInterface is identified by the uuid for its NodeGroup, and
the name of the network interface it represents: &#8220;eth0&#8221; for example.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodegroups/{uuid}/interfaces/{name}/</span></code></dt>
<dd><p class="first">Delete a specific NodeGroupInterface.</p>
<p class="last">Returns 404 if the nodegroup (cluster) is not found.
Returns 403 if the user does not have permission to access the
interface.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodegroups/{uuid}/interfaces/{name}/</span></code></dt>
<dd><p class="first">List of NodeGroupInterfaces of a NodeGroup.</p>
<p class="last">Returns 404 if the nodegroup (cluster) is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodegroups/{uuid}/interfaces/{name}/</span></code></dt>
<dd><p class="first">Update a specific NodeGroupInterface.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Identifying name for the cluster interface.</td>
</tr>
<tr class="field-even field"><th class="field-name">param ip:</th><td class="field-body">Static IP of the interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type ip:</th><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param interface:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Network interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type interface:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param management:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The service(s) MAAS should manage on this interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type management:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Vocabulary <cite>NODEGROUPINTERFACE_MANAGEMENT</cite></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param subnet_mask:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Subnet mask, e.g. 255.0.0.0.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type subnet_mask:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param broadcast_ip:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Broadcast address for this subnet.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type broadcast_ip:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param router_ip:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Address of default gateway.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type router_ip:</th><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param ip_range_low:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Lowest dynamic IP address to assign to clients.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type ip_range_low:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param ip_range_high:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Highest dynamic IP address to assign to clients.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type ip_range_high:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param static_ip_range_low:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Lowest static IP address to assign to
clients.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type static_ip_range_low:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param static_ip_range_high:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Highest static IP address to assign to
clients.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type static_ip_range_high:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the nodegroup (cluster) is not found.
Returns 403 if the user does not have permission to access the
interface.</p>
</dd>
</dl>
</div>
<div class="section" id="nodegroup-interfaces">
<h3>Nodegroup interfaces<a class="headerlink" href="api.html#nodegroup-interfaces" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of all the NodeGroupInterfaces in this MAAS.</p>
<blockquote>
<div>A NodeGroupInterface is a network interface attached to a cluster
controller, with its network properties.</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodegroups/{uuid}/interfaces/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div>List of NodeGroupInterfaces of a NodeGroup.</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/{uuid}/interfaces/</span></code> <code class="docutils literal"><span class="pre">op=new</span></code></p>
<blockquote>
<div><p>Create a new NodeGroupInterface for this NodeGroup.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name for the interface.  Must be unique within this
cluster.  Only letters, digits, dashes, and colons are allowed.</td>
</tr>
<tr class="field-even field"><th class="field-name">param ip:</th><td class="field-body">Static IP of the interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type ip:</th><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param interface:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Name of the network interface that connects the
cluster controller to this network.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type interface:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param management:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The service(s) MAAS should manage on this interface.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type management:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Vocabulary <cite>NODEGROUPINTERFACE_MANAGEMENT</cite></td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param subnet_mask:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Subnet mask, e.g. 255.0.0.0.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type subnet_mask:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param broadcast_ip:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Broadcast address for this subnet.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type broadcast_ip:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param router_ip:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Address of default gateway.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type router_ip:</th><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param ip_range_low:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Lowest dynamic IP address to assign to clients.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type ip_range_low:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param ip_range_high:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Highest dynamic IP address to assign to clients.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type ip_range_high:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param static_ip_range_low:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Lowest static IP address to assign to
clients.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type static_ip_range_low:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param static_ip_range_high:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Highest static IP address to assign to
clients.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type static_ip_range_high:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">unicode (IP Address)</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node group (cluster) is not found.
Returns 403 if the user does not have permission to access the
interface.</p>
</div></blockquote>
</div>
<div class="section" id="nodegroups">
<h3>Nodegroups<a class="headerlink" href="api.html#nodegroups" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of all the nodegroups in this MAAS.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodegroups/</span></code> <code class="docutils literal"><span class="pre">op=describe_power_types</span></code></p>
<blockquote>
<div><p>Query all the cluster controllers for power information.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">a list of dicts that describe the power types in this format.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodegroups/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div>List nodegroups.</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/</span></code> <code class="docutils literal"><span class="pre">op=accept</span></code></p>
<blockquote>
<div><p>Accept nodegroup enlistment(s).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param uuid:</th><td class="field-body">The UUID (or list of UUIDs) of the nodegroup(s) to accept.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">unicode (or list of unicodes)</td>
</tr>
</tbody>
</table>
<p>This method is reserved to admin users and returns 403 if the
user is not an admin.</p>
<p>Returns 404 if the nodegroup (cluster) is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/</span></code> <code class="docutils literal"><span class="pre">op=import_boot_images</span></code></p>
<blockquote>
<div>Import the boot images on all the accepted cluster controllers.</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodegroups/</span></code> <code class="docutils literal"><span class="pre">op=reject</span></code></p>
<blockquote>
<div><p>Reject nodegroup enlistment(s).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param uuid:</th><td class="field-body">The UUID (or list of UUIDs) of the nodegroup(s) to reject.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">unicode (or list of unicodes)</td>
</tr>
</tbody>
</table>
<p>This method is reserved to admin users and returns 403 if the
user is not an admin.</p>
<p>Returns 404 if the nodegroup (cluster) is not found.</p>
</div></blockquote>
</div>
<div class="section" id="node">
<h3>Node<a class="headerlink" href="api.html#node" title="Permalink to this headline">¶</a></h3>
<p>Manage an individual Node.</p>
<blockquote>
<div>The Node is identified by its system_id.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code></dt>
<dd><p class="first">Delete a specific Node.</p>
<p class="last">Returns 404 if the node is not found.
Returns 403 if the user does not have permission to delete the node.
Returns 204 if the node is successfully deleted.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code></dt>
<dd><p class="first">Read a specific Node.</p>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=details</span></code></p>
<blockquote>
<div><p>Obtain various system details.</p>
<p>For example, LLDP and <code class="docutils literal"><span class="pre">lshw</span></code> XML dumps.</p>
<p>Returns a <code class="docutils literal"><span class="pre">{detail_type:</span> <span class="pre">xml,</span> <span class="pre">...}</span></code> map, where
<code class="docutils literal"><span class="pre">detail_type</span></code> is something like &#8220;lldp&#8221; or &#8220;lshw&#8221;.</p>
<p>Note that this is returned as BSON and not JSON. This is for
efficiency, but mainly because JSON can&#8217;t do binary content
without applying additional encoding like base-64.</p>
<p>Returns 404 if the node is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=get_curtin_config</span></code></p>
<blockquote>
<div><p>Return the rendered curtin configuration for the node.</p>
<p>Returns 404 if the node could not be found.
Returns 403 if the user does not have permission to get the curtin
configuration.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=power_parameters</span></code></p>
<blockquote>
<div><p>Obtain power parameters.</p>
<p>This method is reserved for admin users and returns a 403 if the
user is not one.</p>
<p>This returns the power parameters, if any, configured for a
node. For some types of power control this will include private
information such as passwords and secret keys.</p>
<p>Returns 404 if the node is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=query_power_state</span></code></p>
<blockquote>
<div><p>Query the power state of a node.</p>
<p>Send a request to the node&#8217;s power controller which asks it about
the node&#8217;s state.  The reply to this could be delayed by up to
30 seconds while waiting for the power controller to respond.
Use this method sparingly as it ties up an appserver thread
while waiting.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param system_id:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The node to query.</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">a dict whose key is &#8220;state&#8221; with a value of one of
&#8216;on&#8217; or &#8216;off&#8217;.</td>
</tr>
</tbody>
</table>
<p>Returns 400 if the node is not installable.
Returns 404 if the node is not found.
Returns 503 (with explanatory text) if the power state could not
be queried.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=abort_operation</span></code></p>
<blockquote>
<div><p>Abort a node&#8217;s current operation.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param comment:</th><td class="field-body">Optional comment for the event log.</td>
</tr>
<tr class="field-even field"><th class="field-name">type comment:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>This currently only supports aborting of the &#8216;Disk Erasing&#8217; operation.</p>
<p>Returns 404 if the node could not be found.
Returns 403 if the user does not have permission to abort the
current operation.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=claim_sticky_ip_address</span></code></p>
<blockquote>
<div><p>Assign a &#8220;sticky&#8221; IP address to a Node&#8217;s MAC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param mac_address:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Optional MAC address on the node on which to
assign the sticky IP address.  If not passed, defaults to the
PXE MAC for the node.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param requested_address:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Optional IP address to claim.  Must be in
the range defined on a cluster interface to which the context
MAC is related, or 403 Forbidden is returned.  If the requested
address is unavailable for use, 404 Not Found is returned.</td>
</tr>
</tbody>
</table>
<p>A sticky IP is one which stays with the node until the IP is
disassociated with the node, or the node is deleted.  It allows
an admin to give a node a stable IP, since normally an automatic
IP is allocated to a node only during the time a user has
acquired and started a node.</p>
<p>Returns 404 if the node is not found.
Returns 409 if the node is in an allocated state.
Returns 400 if the mac_address is not found on the node.
Returns 503 if there are not enough IPs left on the cluster interface
to which the mac_address is linked.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=clear_default_gateways</span></code></p>
<blockquote>
<div><p>Clear any set default gateways on the node.</p>
<p>This will clear both IPv4 and IPv6 gateways on the node. This will
transition the logic of identifing the best gateway to MAAS. This logic
is determined based the following criteria:</p>
<ol class="arabic simple">
<li>Managed subnets over unmanaged subnets.</li>
<li>Bond interfaces over physical interfaces.</li>
<li>Node&#8217;s boot interface over all other interfaces except bonds.</li>
<li>Physical interfaces over VLAN interfaces.</li>
<li>Sticky IP links over user reserved IP links.</li>
<li>User reserved IP links over auto IP links.</li>
</ol>
<p>If the default gateways need to be specific for this node you can set
which interface and subnet&#8217;s gateway to use when this node is deployed
with the <cite>node-interfaces set-default-gateway</cite> API.</p>
<p>Returns 404 if the node could not be found.
Returns 403 if the user does not have permission to clear the default
gateways.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=commission</span></code></p>
<blockquote>
<div><p>Begin commissioning process for a node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param enable_ssh:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Whether to enable SSH for the commissioning
environment using the user&#8217;s SSH key(s).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type enable_ssh:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">bool (&#8216;0&#8217; for False, &#8216;1&#8217; for True)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param skip_networking:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Whether to skip re-configuring the networking
on the node after the commissioning has completed.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type skip_networking:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">bool (&#8216;0&#8217; for False, &#8216;1&#8217; for True)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param skip_storage:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Whether to skip re-configuring the storage
on the node after the commissioning has completed.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type skip_storage:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">bool (&#8216;0&#8217; for False, &#8216;1&#8217; for True)</td>
</tr>
</tbody>
</table>
<p>A node in the &#8216;ready&#8217;, &#8216;declared&#8217; or &#8216;failed test&#8217; state may
initiate a commissioning cycle where it is checked out and tested
in preparation for transitioning to the &#8216;ready&#8217; state. If it is
already in the &#8216;ready&#8217; state this is considered a re-commissioning
process which is useful if commissioning tests were changed after
it previously commissioned.</p>
<p>Returns 404 if the node is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=mark_broken</span></code></p>
<blockquote>
<div><p>Mark a node as &#8216;broken&#8217;.</p>
<p>If the node is allocated, release it first.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param comment:</th><td class="field-body">Optional comment for the event log. Will be
displayed on the Node as an error description until marked fixed.</td>
</tr>
<tr class="field-even field"><th class="field-name">type comment:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node is not found.
Returns 403 if the user does not have permission to mark the node
broken.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=mark_fixed</span></code></p>
<blockquote>
<div><p>Mark a broken node as fixed and set its status as &#8216;ready&#8217;.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param comment:</th><td class="field-body">Optional comment for the event log.</td>
</tr>
<tr class="field-even field"><th class="field-name">type comment:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node is not found.
Returns 403 if the user does not have permission to mark the node
fixed.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=release</span></code></p>
<blockquote>
<div><p>Release a node.  Opposite of <cite>NodesHandler.acquire</cite>.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param comment:</th><td class="field-body">Optional comment for the event log.</td>
</tr>
<tr class="field-even field"><th class="field-name">type comment:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node is not found.
Returns 403 if the user does not have permission to release the node.
Returns 409 if the node is in a state where it may not be released.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=release_sticky_ip_address</span></code></p>
<blockquote>
<div><p>Release a &#8220;sticky&#8221; IP address from a node&#8217;s MAC.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param address:</th><td class="field-body">Optional IP address to release. If left unspecified,
will release every &#8220;sticky&#8221; IP address associated with the node.</td>
</tr>
</tbody>
</table>
<p>Returns 400 if the specified addresses could not be deallocated
Returns 404 if the node is not found.
Returns 409 if the node is in an allocated state.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=set_storage_layout</span></code></p>
<blockquote>
<div><p>Changes the storage layout on the node.</p>
<p>This can only be preformed on an allocated node.</p>
<p>Note: This will clear the current storage layout and any extra
configuration and replace it will the new layout.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param storage_layout:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Storage layout for the node. (flat, lvm
and bcache)</td>
</tr>
</tbody>
</table>
<p>The following are optional for all layouts:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param boot_size:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Size of the boot partition.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param root_size:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Size of the root partition.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param root_device:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Physical block device to place the root partition.</td>
</tr>
</tbody>
</table>
<p>The following are optional for LVM:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param vg_name:</th><td class="field-body">Name of created volume group.</td>
</tr>
<tr class="field-even field"><th class="field-name">param lv_name:</th><td class="field-body">Name of created logical volume.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param lv_size:</th><td class="field-body">Size of created logical volume.</td>
</tr>
</tbody>
</table>
<p>The following are optional for Bcache:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param cache_device:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Physical block device to use as the cache device.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param cache_mode:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Cache mode for bcache device. (writeback,
writethrough, writearound)</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param cache_size:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Size of the cache partition to create on the cache
device.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param cache_no_part:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Don&#8217;t create a partition on the cache device.
Use the entire disk as the cache device.</td>
</tr>
</tbody>
</table>
<p>Returns 400 if the node is currently not allocated.
Returns 404 if the node could not be found.
Returns 403 if the user does not have permission to set the storage
layout.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=start</span></code></p>
<blockquote>
<div><p>Power up a node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param user_data:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">If present, this blob of user-data to be made
available to the nodes through the metadata service.</td>
</tr>
<tr class="field-even field"><th class="field-name">type user_data:</th><td class="field-body">base64-encoded unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param distro_series:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">If present, this parameter specifies the
OS release the node will use.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type distro_series:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param hwe_kernel:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">If present, this parameter specified the kernel to
be used on the node</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type hwe_kernel:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param comment:</th><td class="field-body">Optional comment for the event log.</td>
</tr>
<tr class="field-even field"><th class="field-name">type comment:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Ideally we&#8217;d have MIME multipart and content-transfer-encoding etc.
deal with the encapsulation of binary data, but couldn&#8217;t make it work
with the framework in reasonable time so went for a dumb, manual
encoding instead.</p>
<p>Returns 404 if the node is not found.
Returns 403 if the user does not have permission to start the node.
Returns 503 if the start-up attempted to allocate an IP address,
and there were no IP addresses available on the relevant cluster
interface.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code> <code class="docutils literal"><span class="pre">op=stop</span></code></p>
<blockquote>
<div><p>Shut down a node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param stop_mode:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">An optional power off mode. If &#8216;soft&#8217;,
perform a soft power down if the node&#8217;s power type supports
it, otherwise perform a hard power off. For all values other
than &#8216;soft&#8217;, and by default, perform a hard power off. A
soft power off generally asks the OS to shutdown the system
gracefully before powering off, while a hard power off
occurs immediately without any warning to the OS.</td>
</tr>
<tr class="field-even field"><th class="field-name">type stop_mode:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param comment:</th><td class="field-body">Optional comment for the event log.</td>
</tr>
<tr class="field-even field"><th class="field-name">type comment:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node is not found.
Returns 403 if the user does not have permission to stop the node.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodes/{system_id}/</span></code></dt>
<dd><p class="first">Update a specific Node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param hostname:</th><td class="field-body">The new hostname for this node.</td>
</tr>
<tr class="field-even field"><th class="field-name">type hostname:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param architecture:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The new architecture for this node.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type architecture:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param min_hwe_kernel:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">A string containing the minimum kernel version
allowed to be ran on this node.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type min_hwe_kernel:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param power_type:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The new power type for this node. If you use the
default value, power_parameters will be set to the empty string.
Available to admin users.
See the <a class="reference internal" href="api.html#power-types">Power types</a> section for a list of the available power
types.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type power_type:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param power_parameters_{param1}:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The new value for the &#8216;param1&#8217;
power parameter.  Note that this is dynamic as the available
parameters depend on the selected value of the Node&#8217;s power_type.
For instance, if the power_type is &#8216;ether_wake&#8217;, the only valid
parameter is &#8216;power_address&#8217; so one would want to pass &#8216;myaddress&#8217;
as the value of the &#8216;power_parameters_power_address&#8217; parameter.
Available to admin users.
See the <a class="reference internal" href="api.html#power-types">Power types</a> section for a list of the available power
parameters for each power type.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type power_parameters_{param1}:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param power_parameters_skip_check:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Whether or not the new power
parameters for this node should be checked against the expected
power parameters for the node&#8217;s power type (&#8216;true&#8217; or &#8216;false&#8217;).
The default is &#8216;false&#8217;.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type power_parameters_skip_check:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param zone:</th><td class="field-body">Name of a valid physical zone in which to place this node</td>
</tr>
<tr class="field-even field"><th class="field-name">type zone:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param swap_size:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Specifies the size of the swap file, in bytes. Field
accept K, M, G and T suffixes for values expressed respectively in
kilobytes, megabytes, gigabytes and terabytes.</td>
</tr>
<tr class="field-even field"><th class="field-name">type swap_size:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param boot_type:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The installation type of the node. &#8216;fastpath&#8217;: use
the default installer. &#8216;di&#8217; use the debian installer.
Note that using &#8216;di&#8217; is now deprecated and will be removed in favor
of the default installer in MAAS 1.9.</td>
</tr>
<tr class="field-even field"><th class="field-name">type boot_type:</th><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the node is node found.
Returns 403 if the user does not have permission to update the node.</p>
</dd>
</dl>
</div>
<div class="section" id="node-interface">
<h3>Node Interface<a class="headerlink" href="api.html#node-interface" title="Permalink to this headline">¶</a></h3>
<p>Manage a node&#8217;s interface. (Deprecated)</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code></dt>
<dd><p class="first">Delete interface on node.</p>
<p class="last">Returns 404 if the node or interface is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code></dt>
<dd><p class="first">Read interface on node.</p>
<p class="last">Returns 404 if the node or interface is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/{interface_id}/</span></code></dt>
<dd><p class="first">Update interface on node.</p>
<p>Fields for physical interface:
:param name: Name of the interface.
:param mac_address: MAC address of the interface.
:param tags: Tags for the interface.
:param vlan: Untagged VLAN the interface is connected to.</p>
<p>Fields for bond interface:
:param name: Name of the interface.
:param mac_address: MAC address of the interface.
:param tags: Tags for the interface.
:param vlan: Tagged VLAN the interface is connected to.
:param parents: Parent interfaces that make this bond.</p>
<p>Fields for VLAN interface:
:param tags: Tags for the interface.
:param vlan: VLAN the interface is connected to.
:param parent: Parent interface for this VLAN interface.</p>
<p>Following are extra parameters that can be set on all interface types:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param mtu:</th><td class="field-body">Maximum transmission unit.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param accept_ra:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Accept router advertisements. (IPv6 only)</td>
</tr>
<tr class="field-odd field"><th class="field-name">param autoconf:</th><td class="field-body">Perform stateless autoconfiguration. (IPv6 only)</td>
</tr>
</tbody>
</table>
<p>Following are parameters specific to bonds:</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param bond-mode:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The operating mode of the bond.
(Default: active-backup).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond-miimon:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The link monitoring freqeuncy in milliseconds.
(Default: 100).</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param bond-downdelay:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Specifies the time, in milliseconds, to wait
before disabling a slave after a link failure has been detected.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond-updelay:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Specifies the time, in milliseconds, to wait
before enabling a slave after a link recovery has been detected.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param bond-lacp_rate:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Option specifying the rate in which we&#8217;ll ask
our link partner to transmit LACPDU packets in 802.3ad mode.
Available options are fast or slow. (Default: slow).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param bond-xmit_hash_policy:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The transmit hash policy to use for
slave selection in balance-xor, 802.3ad, and tlb modes.</td>
</tr>
</tbody>
</table>
<p>Supported bonding modes (bond-mode):
balance-rr - Transmit packets in sequential order from the first
available slave through the last.  This mode provides load balancing
and fault tolerance.</p>
<p>active-backup - Only one slave in the bond is active.  A different
slave becomes active if, and only if, the active slave fails.  The
bond&#8217;s MAC address is externally visible on only one port (network
adapter) to avoid confusing the switch.</p>
<p>balance-xor - Transmit based on the selected transmit hash policy.
The default policy is a simple [(source MAC address XOR&#8217;d with
destination MAC address XOR packet type ID) modulo slave count].</p>
<p>broadcast - Transmits everything on all slave interfaces. This mode
provides fault tolerance.</p>
<p>802.3ad - IEEE 802.3ad Dynamic link aggregation.  Creates aggregation
groups that share the same speed and duplex settings.  Utilizes all
slaves in the active aggregator according to the 802.3ad specification.</p>
<p>balance-tlb - Adaptive transmit load balancing: channel bonding that
does not require any special switch support.</p>
<p>balance-alb - Adaptive load balancing: includes balance-tlb plus
receive load balancing (rlb) for IPV4 traffic, and does not require any
special switch support.  The receive load balancing is achieved by
ARP negotiation.</p>
<p class="last">Returns 404 if the node or interface is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="node-interfaces">
<h3>Node Interfaces<a class="headerlink" href="api.html#node-interfaces" title="Permalink to this headline">¶</a></h3>
<p>Manage interfaces on a node. (Deprecated)</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/interfaces/</span></code></dt>
<dd><p class="first">List all interfaces belonging to a node or device.</p>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="commissioning-results">
<h3>Commissioning results<a class="headerlink" href="api.html#commissioning-results" title="Permalink to this headline">¶</a></h3>
<p>Read the collection of NodeResult in the MAAS.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/installation-results/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div><p>List NodeResult visible to the user, optionally filtered.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param system_id:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">An optional list of system ids.  Only the
results related to the nodes with these system ids
will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">type system_id:</th><td class="field-body">iterable</td>
</tr>
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">An optional list of names.  Only the results
with the specified names will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">iterable</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param result_type:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">An optional result_type.  Only the results
with the specified result_type will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">iterable</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div>
<div class="section" id="nodes">
<h3>Nodes<a class="headerlink" href="api.html#nodes" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of all the nodes in the MAAS.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=deployment_status</span></code></p>
<blockquote>
<div><p>Retrieve deployment status for multiple nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param nodes:</th><td class="field-body">Mandatory list of system IDs for nodes whose status
you wish to check.</td>
</tr>
</tbody>
</table>
<p>Returns 400 if mandatory parameters are missing.
Returns 403 if the user has no permission to view any of the nodes.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div>List all nodes.</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=list_allocated</span></code></p>
<blockquote>
<div>Fetch Nodes that were allocated to the User/oauth token.</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=power_parameters</span></code></p>
<blockquote>
<div><p>Retrieve power parameters for multiple nodes.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param id:</th><td class="field-body">An optional list of system ids.  Only nodes with
matching system ids will be returned.</td>
</tr>
<tr class="field-even field"><th class="field-name">type id:</th><td class="field-body">iterable</td>
</tr>
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">A dictionary of power parameters, keyed by node system_id.</td>
</tr>
</tbody>
</table>
<p>Raises 403 if the user is not an admin.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=accept</span></code></p>
<blockquote>
<div><p>Accept declared nodes into the MAAS.</p>
<p>Nodes can be enlisted in the MAAS anonymously or by non-admin users,
as opposed to by an admin.  These nodes are held in the New
state; a MAAS admin must first verify the authenticity of these
enlistments, and accept them.</p>
<p>Enlistments can be accepted en masse, by passing multiple nodes to
this call.  Accepting an already accepted node is not an error, but
accepting one that is already allocated, broken, etc. is.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param nodes:</th><td class="field-body">system_ids of the nodes whose enlistment is to be
accepted.  (An empty list is acceptable).</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">The system_ids of any nodes that have their status changed
by this call.  Thus, nodes that were already accepted are
excluded from the result.</td>
</tr>
</tbody>
</table>
<p>Returns 400 if any of the nodes do not exist.
Returns 403 if the user is not an admin.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=accept_all</span></code></p>
<blockquote>
<div><p>Accept all declared nodes into the MAAS.</p>
<p>Nodes can be enlisted in the MAAS anonymously or by non-admin users,
as opposed to by an admin.  These nodes are held in the New
state; a MAAS admin must first verify the authenticity of these
enlistments, and accept them.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">return:</th><td class="field-body">Representations of any nodes that have their status changed
by this call.  Thus, nodes that were already accepted are excluded
from the result.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=acquire</span></code></p>
<blockquote>
<div><p>Acquire an available node for deployment.</p>
<p>Constraints parameters can be used to acquire a node that possesses
certain characteristics.  All the constraints are optional and when
multiple constraints are provided, they are combined using &#8216;AND&#8217;
semantics.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Hostname of the returned node.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param arch:</th><td class="field-body">Architecture of the returned node (e.g. &#8216;i386/generic&#8217;,
&#8216;amd64&#8217;, &#8216;armhf/highbank&#8217;, etc.).</td>
</tr>
<tr class="field-even field"><th class="field-name">type arch:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param cpu_count:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The minium number of CPUs the returned node must
have.</td>
</tr>
<tr class="field-even field"><th class="field-name">type cpu_count:</th><td class="field-body">int</td>
</tr>
<tr class="field-odd field"><th class="field-name">param mem:</th><td class="field-body">The minimum amount of memory (expressed in MB) the
returned node must have.</td>
</tr>
<tr class="field-even field"><th class="field-name">type mem:</th><td class="field-body">float</td>
</tr>
<tr class="field-odd field"><th class="field-name">param tags:</th><td class="field-body">List of tags the returned node must have.</td>
</tr>
<tr class="field-even field"><th class="field-name">type tags:</th><td class="field-body">list of unicodes</td>
</tr>
<tr class="field-odd field"><th class="field-name">param not_tags:</th><td class="field-body">List of tags the acquired node must not have.</td>
</tr>
<tr class="field-even field"><th class="field-name">type tags:</th><td class="field-body">List of unicodes.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param connected_to:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">List of routers&#8217; MAC addresses the returned
node must be connected to.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type connected_to:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode or list of unicodes</td>
</tr>
<tr class="field-odd field"><th class="field-name">param networks:</th><td class="field-body">List of networks (defined in MAAS) to which the node
must be attached.  A network can be identified by the name
assigned to it in MAAS; or by an <cite>ip:</cite> prefix followed by any IP
address that falls within the network; or a <cite>vlan:</cite> prefix
followed by a numeric VLAN tag, e.g. <cite>vlan:23</cite> for VLAN number 23.
Valid VLAN tags must be in the range of 1 to 4095 inclusive.</td>
</tr>
<tr class="field-even field"><th class="field-name">type networks:</th><td class="field-body">list of unicodes</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param not_networks:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">List of networks (defined in MAAS) to which the
node must not be attached.  The returned noded won&#8217;t be attached to
any of the specified networks.  A network can be identified by the
name assigned to it in MAAS; or by an <cite>ip:</cite> prefix followed by any
IP address that falls within the network; or a <cite>vlan:</cite> prefix
followed by a numeric VLAN tag, e.g. <cite>vlan:23</cite> for VLAN number 23.
Valid VLAN tags must be in the range of 1 to 4095 inclusive.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type not_networks:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">list of unicodes</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param not_connected_to:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">List of routers&#8217; MAC Addresses the returned
node must not be connected to.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type connected_to:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">list of unicodes</td>
</tr>
<tr class="field-odd field"><th class="field-name">param zone:</th><td class="field-body">An optional name for a physical zone the acquired
node should be located in.</td>
</tr>
<tr class="field-even field"><th class="field-name">type zone:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">type not_in_zone:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Optional list of physical zones from which the
node should not be acquired.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type not_in_zone:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">List of unicodes.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param agent_name:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">An optional agent name to attach to the
acquired node.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type agent_name:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param comment:</th><td class="field-body">Optional comment for the event log.</td>
</tr>
<tr class="field-even field"><th class="field-name">type comment:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param dry_run:</th><td class="field-body">Optional boolean to indicate that the node should not
actually be acquired (this is for support/troubleshooting, or users
who want to see which node would match a constraint, without
acquiring a node). Defaults to False.</td>
</tr>
<tr class="field-even field"><th class="field-name">type dry_run:</th><td class="field-body">bool</td>
</tr>
<tr class="field-odd field"><th class="field-name">param verbose:</th><td class="field-body">Optional boolean to indicate that the user would like
additional verbosity in the constraints_by_type field (each
constraint will be prefixed by <cite>verbose_</cite>, and contain the full
data structure that indicates which node(s) matched).</td>
</tr>
<tr class="field-even field"><th class="field-name">type verbose:</th><td class="field-body">bool</td>
</tr>
</tbody>
</table>
<p>Returns 409 if a suitable node matching the constraints could not be
found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=check_commissioning</span></code></p>
<blockquote>
<div><p>Check all commissioning nodes to see if they are taking too long.</p>
<p>Anything that has been commissioning for longer than
settings.COMMISSIONING_TIMEOUT is moved into the
FAILED_COMMISSIONING status.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=new</span></code></p>
<blockquote>
<div><p>Create a new Node.</p>
<p>Adding a server to a MAAS puts it on a path that will wipe its disks
and re-install its operating system, in the event that it PXE boots.
In anonymous enlistment (and when the enlistment is done by a
non-admin), the node is held in the &#8220;New&#8221; state for approval by a MAAS
admin.</p>
<p>The minimum data required is:
architecture=&lt;arch string&gt; (e.g. &#8220;i386/generic&#8221;)
mac_addresses=&lt;value&gt; (e.g. &#8220;aa:bb:cc:dd:ee:ff&#8221;)
autodetect_nodegroup=True</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param architecture:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">A string containing the architecture type of
the node. (For example, &#8220;i386&#8221;, or &#8220;amd64&#8221;.) To determine the
supported architectures, use the boot-resources endpoint.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param min_hwe_kernel:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">A string containing the minimum kernel version
allowed to be ran on this node.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param subarchitecture:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">A string containing the subarchitecture type
of the node. (For example, &#8220;generic&#8221; or &#8220;hwe-t&#8221;.) To determine
the supported subarchitectures, use the boot-resources endpoint.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param mac_addresses:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">One or more MAC addresses for the node. To
specify more than one MAC address, the parameter must be specified
twice. (such as &#8220;nodes new mac_addresses=01:02:03:04:05:06
mac_addresses=02:03:04:05:06:07&#8221;)</td>
</tr>
<tr class="field-odd field"><th class="field-name">param hostname:</th><td class="field-body">A hostname. If not given, one will be generated.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param power_type:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">A power management type, if applicable (e.g.
&#8220;virsh&#8221;, &#8220;ipmi&#8221;).</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param autodetect_nodegroup:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">(boolean) Whether or not to attempt
nodegroup detection for this node. The nodegroup is determined
based on the requestor&#8217;s IP address range. (if the API request
comes from an IP range within a known nodegroup, that nodegroup
will be used.)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param nodegroup:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">The id of the nodegroup this node belongs to.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=release</span></code></p>
<blockquote>
<div><p>Release multiple nodes.</p>
<p>This places the nodes back into the pool, ready to be reallocated.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param nodes:</th><td class="field-body">system_ids of the nodes which are to be released.
(An empty list is acceptable).</td>
</tr>
<tr class="field-even field"><th class="field-name">param comment:</th><td class="field-body">Optional comment for the event log.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type comment:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-even field"><th class="field-name">return:</th><td class="field-body">The system_ids of any nodes that have their status
changed by this call. Thus, nodes that were already released
are excluded from the result.</td>
</tr>
</tbody>
</table>
<p>Returns 400 if any of the nodes cannot be found.
Returns 403 if the user does not have permission to release any of
the nodes.
Returns a 409 if any of the nodes could not be released due to their
current state.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/</span></code> <code class="docutils literal"><span class="pre">op=set_zone</span></code></p>
<blockquote>
<div><p>Assign multiple nodes to a physical zone at once.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param zone:</th><td class="field-body">Zone name.  If omitted, the zone is &#8220;none&#8221; and the nodes
will be taken out of their physical zones.</td>
</tr>
<tr class="field-even field"><th class="field-name">param nodes:</th><td class="field-body">system_ids of the nodes whose zones are to be set.
(An empty list is acceptable).</td>
</tr>
</tbody>
</table>
<p>Raises 403 if the user is not an admin.</p>
</div></blockquote>
</div>
<div class="section" id="partitions">
<h3>Partitions<a class="headerlink" href="api.html#partitions" title="Permalink to this headline">¶</a></h3>
<p>Manage partition on a block device.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/partition/{partition_id}</span></code></dt>
<dd><p class="first">Delete partition.</p>
<p class="last">Returns 404 if the node, block device, or partition are not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/partition/{partition_id}</span></code></dt>
<dd><p class="first">Read partition.</p>
<p class="last">Returns 404 if the node, block device, or partition are not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/partition/{partition_id}</span></code> <code class="docutils literal"><span class="pre">op=format</span></code></p>
<blockquote>
<div><p>Format a partition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param fstype:</th><td class="field-body">Type of filesystem.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">The UUID for the filesystem.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param label:</th><td class="field-body">The label for the filesystem.</td>
</tr>
</tbody>
</table>
<p>Returns 403 when the user doesn&#8217;t have the ability to format the             partition.
Returns 404 if the node, block device, or partition is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/partition/{partition_id}</span></code> <code class="docutils literal"><span class="pre">op=mount</span></code></p>
<blockquote>
<div><p>Mount the filesystem on partition.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name" colspan="2">param mount_point:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Path on the filesystem to mount.</td>
</tr>
</tbody>
</table>
<p>Returns 403 when the user doesn&#8217;t have the ability to mount the             partition.
Returns 404 if the node, block device, or partition is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/partition/{partition_id}</span></code> <code class="docutils literal"><span class="pre">op=unformat</span></code></p>
<blockquote>
<div>Unformat a partition.</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/partition/{partition_id}</span></code> <code class="docutils literal"><span class="pre">op=unmount</span></code></p>
<blockquote>
<div><p>Unmount the filesystem on partition.</p>
<p>Returns 400 if the partition is not formatted or not currently             mounted.
Returns 403 when the user doesn&#8217;t have the ability to unmount the             partition.
Returns 404 if the node, block device, or partition is not found.</p>
</div></blockquote>
</div>
<div class="section" id="id1">
<h3>Partitions<a class="headerlink" href="api.html#id1" title="Permalink to this headline">¶</a></h3>
<p>Manage partitions on a block device.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/partitions/</span></code></dt>
<dd><p class="first">List all partitions on the block device.</p>
<p class="last">Returns 404 if the node or the block device are not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/blockdevices/{device_id}/partitions/</span></code></dt>
<dd><p class="first">Create a partition on the block device.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param size:</th><td class="field-body">The size of the partition.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">UUID for the partition. Only used if the partition table
type for the block device is GPT.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param bootable:</th><td class="field-body">If the partition should be marked bootable.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the node or the block device are not found.</p>
</dd>
</dl>
</div>
<div class="section" id="raid-device">
<h3>RAID Device<a class="headerlink" href="api.html#raid-device" title="Permalink to this headline">¶</a></h3>
<p>Manage a specific RAID device on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/raid/{raid_id}/</span></code></dt>
<dd><p class="first">Delete RAID on node.</p>
<p class="last">Returns 404 if the node or RAID is not found.
Returns 409 if the node is not Ready.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/raid/{raid_id}/</span></code></dt>
<dd><p class="first">Read RAID device on node.</p>
<p class="last">Returns 404 if the node or RAID is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodes/{system_id}/raid/{raid_id}/</span></code></dt>
<dd><p class="first">Update RAID on node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the RAID.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">UUID of the RAID.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param add_block_devices:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Block devices to add to the RAID.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param remove_block_devices:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Block devices to remove from the RAID.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param add_spare_devices:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Spare block devices to add to the RAID.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param remove_spare_devices:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Spare block devices to remove
from the RAID.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param add_partitions:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Partitions to add to the RAID.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param remove_partitions:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Partitions to remove from the RAID.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param add_spare_partitions:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Spare partitions to add to the RAID.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param remove_spare_partitions:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Spare partitions to remove from the
RAID.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the node or RAID is not found.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="raid-devices">
<h3>RAID Devices<a class="headerlink" href="api.html#raid-devices" title="Permalink to this headline">¶</a></h3>
<p>Manage all RAID devices on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/raids/</span></code></dt>
<dd><p class="first">List all RAID devices belonging to node.</p>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/raids/</span></code></dt>
<dd><p class="first">Creates a RAID</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the RAID.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">UUID of the RAID.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param level:</th><td class="field-body">RAID level.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param block_devices:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Block devices to add to the RAID.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param spare_devices:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Spare block devices to add to the RAID.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param partitions:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Partitions to add to the RAID.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param spare_partitions:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Spare partitions to add to the RAID.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the node is not found.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="ssh-key">
<h3>SSH Key<a class="headerlink" href="api.html#ssh-key" title="Permalink to this headline">¶</a></h3>
<p>Manage an SSH key.</p>
<blockquote>
<div>SSH keys can be retrieved or deleted.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/account/prefs/sshkeys/{keyid}/</span></code></dt>
<dd><p class="first">DELETE an SSH key.</p>
<p class="last">Returns 404 if the key does not exist.
Returns 401 if the key does not belong to the calling user.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/account/prefs/sshkeys/{keyid}/</span></code></dt>
<dd><p class="first">GET an SSH key.</p>
<p class="last">Returns 404 if the key does not exist.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/account/prefs/sshkeys/{keyid}/</span></code> <code class="docutils literal"><span class="pre">op=delete</span></code></p>
<blockquote>
<div><p>DELETE an SSH key.</p>
<p>Returns 404 if the key does not exist.
Returns 401 if the key does not belong to the calling user.</p>
</div></blockquote>
</div>
<div class="section" id="ssh-keys">
<h3>SSH Keys<a class="headerlink" href="api.html#ssh-keys" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of all the SSH keys in this MAAS.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/account/prefs/sshkeys/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div>List all keys belonging to the requesting user.</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/account/prefs/sshkeys/</span></code> <code class="docutils literal"><span class="pre">op=new</span></code></p>
<blockquote>
<div><p>Add a new SSH key to the requesting user&#8217;s account.</p>
<p>The request payload should contain the public SSH key data in form
data whose name is &#8220;key&#8221;.</p>
</div></blockquote>
</div>
<div class="section" id="ssl-key">
<h3>SSL Key<a class="headerlink" href="api.html#ssl-key" title="Permalink to this headline">¶</a></h3>
<p>Manage an SSL key.</p>
<blockquote>
<div>SSL keys can be retrieved or deleted.</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/account/prefs/sslkeys/{keyid}/</span></code></dt>
<dd><p class="first">DELETE an SSL key.</p>
<p class="last">Returns 401 if the key does not belong to the requesting user.
Returns 204 if the key is successfully deleted.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/account/prefs/sslkeys/{keyid}/</span></code></dt>
<dd><p class="first">GET an SSL key.</p>
<p class="last">Returns 404 if the keyid is not found.
Returns 401 if the key does not belong to the requesting user.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/account/prefs/sslkeys/{keyid}/</span></code> <code class="docutils literal"><span class="pre">op=delete</span></code></p>
<blockquote>
<div><p>DELETE an SSL key.</p>
<p>Returns 401 if the key does not belong to the requesting user.
Returns 204 if the key is successfully deleted.</p>
</div></blockquote>
</div>
<div class="section" id="ssl-keys">
<h3>SSL Keys<a class="headerlink" href="api.html#ssl-keys" title="Permalink to this headline">¶</a></h3>
<p>Operations on multiple keys.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/account/prefs/sslkeys/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div>List all keys belonging to the requesting user.</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/account/prefs/sslkeys/</span></code> <code class="docutils literal"><span class="pre">op=new</span></code></p>
<blockquote>
<div><p>Add a new SSL key to the requesting user&#8217;s account.</p>
<p>The request payload should contain the SSL key data in form
data whose name is &#8220;key&#8221;.</p>
</div></blockquote>
</div>
<div class="section" id="space">
<h3>Space<a class="headerlink" href="api.html#space" title="Permalink to this headline">¶</a></h3>
<p>Manage space.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/spaces/{space_id}/</span></code></dt>
<dd><p class="first">Delete space.</p>
<p class="last">Returns 404 if the space is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/spaces/{space_id}/</span></code></dt>
<dd><p class="first">Read space.</p>
<p class="last">Returns 404 if the space is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/spaces/{space_id}/</span></code></dt>
<dd><p class="first">Update space.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the space.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the space is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="spaces">
<h3>Spaces<a class="headerlink" href="api.html#spaces" title="Permalink to this headline">¶</a></h3>
<p>Manage spaces.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/spaces/</span></code></dt>
<dd>List all spaces.</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/spaces/</span></code></dt>
<dd><p class="first">Create a space.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the space.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="subnet">
<h3>Subnet<a class="headerlink" href="api.html#subnet" title="Permalink to this headline">¶</a></h3>
<p>Manage subnet.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/subnets/{subnet_id}/</span></code></dt>
<dd><p class="first">Delete subnet.</p>
<p class="last">Returns 404 if the subnet is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/subnets/{subnet_id}/</span></code></dt>
<dd><p class="first">Read subnet.</p>
<p class="last">Returns 404 if the subnet is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/subnets/{subnet_id}/</span></code> <code class="docutils literal"><span class="pre">op=ip_addresses</span></code></p>
<blockquote>
<div><p>Returns a summary of IP addresses assigned to this subnet.</p>
<p>Optional arguments:
with_username: (default=True) if False, suppresses the display
of usernames associated with each address.
with_node_summary: (default=True) if False, suppresses the display
of any node associated with each address.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/subnets/{subnet_id}/</span></code> <code class="docutils literal"><span class="pre">op=reserved_ip_ranges</span></code></p>
<blockquote>
<div><p>Lists IP ranges currently reserved in the subnet.</p>
<p>Returns 404 if the subnet is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/subnets/{subnet_id}/</span></code> <code class="docutils literal"><span class="pre">op=statistics</span></code></p>
<blockquote>
<div><p>Returns statistics for the specified subnet, including:</p>
<p>num_available - the number of available IP addresses
largest_available - the largest number of contiguous free IP addresses
num_unavailable - the number of unavailable IP addresses
total_addresses - the sum of the available plus unavailable addresses
usage - the (floating point) usage percentage of this subnet
usage_string - the (formatted unicode) usage percentage of this subnet
ranges - the specific IP ranges present in ths subnet (if specified)</p>
<p>Optional arguments:
include_ranges: if True, includes detailed information
about the usage of this range.</p>
<p>Returns 404 if the subnet is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/subnets/{subnet_id}/</span></code> <code class="docutils literal"><span class="pre">op=unreserved_ip_ranges</span></code></p>
<blockquote>
<div><p>Lists IP ranges currently unreserved in the subnet.</p>
<p>Returns 404 if the subnet is not found.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/subnets/{subnet_id}/</span></code></dt>
<dd><p class="first">Update subnet.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the subnet.</td>
</tr>
<tr class="field-even field"><th class="field-name">param vlan:</th><td class="field-body">VLAN this subnet belongs to.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param space:</th><td class="field-body">Space this subnet is in.</td>
</tr>
<tr class="field-even field"><th class="field-name">param cidr:</th><td class="field-body">The network CIDR for this subnet.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param gateway_ip:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The gateway IP address for this subnet.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param dns_servers:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Comma-seperated list of DNS servers for this             subnet.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the subnet is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="subnets">
<h3>Subnets<a class="headerlink" href="api.html#subnets" title="Permalink to this headline">¶</a></h3>
<p>Manage subnets.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/subnets/</span></code></dt>
<dd>List all subnets.</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/subnets/</span></code></dt>
<dd><p class="first">Create a subnet.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the subnet.</td>
</tr>
<tr class="field-even field"><th class="field-name">param fabric:</th><td class="field-body">Fabric for the subnet. Defaults to the fabric the
provided VLAN belongs to or defaults to the default fabric.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param vlan:</th><td class="field-body">VLAN this subnet belongs to. Defaults to the default
VLAN for the provided fabric or defaults to the default VLAN in
the default fabric.</td>
</tr>
<tr class="field-even field"><th class="field-name">param vid:</th><td class="field-body">VID of the VLAN this subnet belongs to. Only used when
vlan is not provided. Picks the VLAN with this VID in the provided
fabric or the default fabric if one is not given.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param space:</th><td class="field-body">Space this subnet is in. Defaults to the default space.</td>
</tr>
<tr class="field-even field"><th class="field-name">param cidr:</th><td class="field-body">The network CIDR for this subnet.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param gateway_ip:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">The gateway IP address for this subnet.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param dns_servers:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Comma-seperated list of DNS servers for this             subnet.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="tag">
<h3>Tag<a class="headerlink" href="api.html#tag" title="Permalink to this headline">¶</a></h3>
<p>Manage a Tag.</p>
<blockquote>
<div><p>Tags are properties that can be associated with a Node and serve as
criteria for selecting and allocating nodes.</p>
<p>A Tag is identified by its name.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/tags/{name}/</span></code></dt>
<dd><p class="first">Delete a specific Tag.</p>
<p class="last">Returns 404 if the tag is not found.
Returns 204 if the tag is successfully deleted.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/tags/{name}/</span></code></dt>
<dd><p class="first">Read a specific Tag.</p>
<p class="last">Returns 404 if the tag is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/tags/{name}/</span></code> <code class="docutils literal"><span class="pre">op=nodes</span></code></p>
<blockquote>
<div><p>Get the list of nodes that have this tag.</p>
<p>Returns 404 if the tag is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/tags/{name}/</span></code> <code class="docutils literal"><span class="pre">op=rebuild</span></code></p>
<blockquote>
<div><p>Manually trigger a rebuild the tag &lt;=&gt; node mapping.</p>
<p>This is considered a maintenance operation, which should normally not
be necessary. Adding nodes or updating a tag&#8217;s definition should
automatically trigger the appropriate changes.</p>
<p>Returns 404 if the tag is not found.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/tags/{name}/</span></code> <code class="docutils literal"><span class="pre">op=update_nodes</span></code></p>
<blockquote>
<div><p>Add or remove nodes being associated with this tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param add:</th><td class="field-body">system_ids of nodes to add to this tag.</td>
</tr>
<tr class="field-even field"><th class="field-name">param remove:</th><td class="field-body">system_ids of nodes to remove from this tag.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param definition:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">(optional) If supplied, the definition will be
validated against the current definition of the tag. If the value
does not match, then the update will be dropped (assuming this was
just a case of a worker being out-of-date)</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param nodegroup:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">A uuid of a nodegroup being processed. This value is
optional. If not supplied, the requester must be a superuser. If
supplied, then the requester must be the worker associated with
that nodegroup, and only nodes that are part of that nodegroup can
be updated.</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the tag is not found.
Returns 401 if the user does not have permission to update the nodes.
Returns 409 if &#8216;definition&#8217; doesn&#8217;t match the current definition.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/tags/{name}/</span></code></dt>
<dd><p class="first">Update a specific Tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">The name of the Tag to be created. This should be a short
name, and will be used in the URL of the tag.</td>
</tr>
<tr class="field-even field"><th class="field-name">param comment:</th><td class="field-body">A long form description of what the tag is meant for.
It is meant as a human readable description of the tag.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param definition:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">An XPATH query that will be evaluated against the
hardware_details stored for all nodes (output of <cite>lshw -xml</cite>).</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the tag is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="tags">
<h3>Tags<a class="headerlink" href="api.html#tags" title="Permalink to this headline">¶</a></h3>
<p>Manage the collection of all the Tags in this MAAS.</p>
<p><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/tags/</span></code> <code class="docutils literal"><span class="pre">op=list</span></code></p>
<blockquote>
<div><p>List Tags.</p>
<p>Get a listing of all tags that are currently defined.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/tags/</span></code> <code class="docutils literal"><span class="pre">op=new</span></code></p>
<blockquote>
<div><p>Create a new Tag.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">The name of the Tag to be created. This should be a short
name, and will be used in the URL of the tag.</td>
</tr>
<tr class="field-even field"><th class="field-name">param comment:</th><td class="field-body">A long form description of what the tag is meant for.
It is meant as a human readable description of the tag.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param definition:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">An XPATH query that will be evaluated against the
hardware_details stored for all nodes (output of <cite>lshw -xml</cite>).</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param kernel_opts:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Can be None. If set, nodes associated with this tag
will add this string to their kernel options when booting. The
value overrides the global &#8216;kernel_opts&#8217; setting. If more than one
tag is associated with a node, the one with the lowest alphabetical
name will be picked (eg 01-my-tag will be taken over 99-tag-name).</td>
</tr>
</tbody>
</table>
<p>Returns 401 if the user is not an admin.</p>
</div></blockquote>
</div>
<div class="section" id="users">
<h3>Users<a class="headerlink" href="api.html#users" title="Permalink to this headline">¶</a></h3>
<p>Manage the user accounts of this MAAS.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/users/</span></code></dt>
<dd>List users.</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/users/</span></code></dt>
<dd><p class="first">Create a MAAS user account.</p>
<p>This is not safe: the password is sent in plaintext.  Avoid it for
production, unless you are confident that you can prevent eavesdroppers
from observing the request.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param username:</th><td class="field-body">Identifier-style username for the new user.</td>
</tr>
<tr class="field-even field"><th class="field-name">type username:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param email:</th><td class="field-body">Email address for the new user.</td>
</tr>
<tr class="field-even field"><th class="field-name">type email:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name">param password:</th><td class="field-body">Password for the new user.</td>
</tr>
<tr class="field-even field"><th class="field-name">type password:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param is_superuser:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Whether the new user is to be an administrator.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type is_superuser:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">bool (&#8216;0&#8217; for False, &#8216;1&#8217; for True)</td>
</tr>
</tbody>
</table>
<p class="last">Returns 400 if any mandatory parameters are missing.</p>
</dd>
</dl>
</div>
<div class="section" id="maas-version">
<h3>MAAS version<a class="headerlink" href="api.html#maas-version" title="Permalink to this headline">¶</a></h3>
<p>Information about this MAAS instance.</p>
<blockquote>
<div><p>This returns a JSON dictionary with information about this
MAAS instance:</p>
<div class="highlight-python"><div class="highlight"><pre><span class="p">{</span>
    <span class="s1">&#39;version&#39;</span><span class="p">:</span> <span class="s1">&#39;1.8.0&#39;</span><span class="p">,</span>
    <span class="s1">&#39;subversion&#39;</span><span class="p">:</span> <span class="s1">&#39;alpha10+bzr3750&#39;</span><span class="p">,</span>
    <span class="s1">&#39;capabilities&#39;</span><span class="p">:</span> <span class="p">[</span><span class="s1">&#39;capability1&#39;</span><span class="p">,</span> <span class="s1">&#39;capability2&#39;</span><span class="p">,</span> <span class="o">...</span><span class="p">]</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/version/</span></code></dt>
<dd>Version and capabilities of this MAAS instance.</dd>
</dl>
</div>
<div class="section" id="vlan">
<h3>VLAN<a class="headerlink" href="api.html#vlan" title="Permalink to this headline">¶</a></h3>
<p>Manage VLAN on a fabric.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/fabrics/{fabric_id}/vlans/{vid}/</span></code></dt>
<dd><p class="first">Delete VLAN on fabric.</p>
<p class="last">Returns 404 if the fabric or VLAN is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/fabrics/{fabric_id}/vlans/{vid}/</span></code></dt>
<dd><p class="first">Read VLAN on fabric.</p>
<p class="last">Returns 404 if the fabric or VLAN is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/fabrics/{fabric_id}/vlans/{vid}/</span></code></dt>
<dd><p class="first">Update VLAN.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the VLAN.</td>
</tr>
<tr class="field-even field"><th class="field-name">param vid:</th><td class="field-body">VLAN ID of the VLAN.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type vid:</th><td class="field-body">integer</td>
</tr>
<tr class="field-even field"><th class="field-name">param mtu:</th><td class="field-body">The MTU to use on the VLAN.</td>
</tr>
<tr class="field-odd field"><th class="field-name">type mtu:</th><td class="field-body">integer</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the fabric or VLAN is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="vlans">
<h3>VLANs<a class="headerlink" href="api.html#vlans" title="Permalink to this headline">¶</a></h3>
<p>Manage VLANs on a fabric.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/fabrics/{fabric_id}/vlans/</span></code></dt>
<dd><p class="first">List all VLANs belonging to fabric.</p>
<p class="last">Returns 404 if the fabric is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/fabrics/{fabric_id}/vlans/</span></code></dt>
<dd><p class="first">Create a VLAN.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the VLAN.</td>
</tr>
<tr class="field-even field"><th class="field-name">param vid:</th><td class="field-body">VLAN ID of the VLAN.</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
<div class="section" id="volume-group">
<h3>Volume group<a class="headerlink" href="api.html#volume-group" title="Permalink to this headline">¶</a></h3>
<p>Manage volume group on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/nodes/{system_id}/volume-group/{volume_group_id}/</span></code></dt>
<dd><p class="first">Delete volume group on node.</p>
<p class="last">Returns 404 if the node or volume group is not found.
Returns 409 if the node is not Ready.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/volume-group/{volume_group_id}/</span></code></dt>
<dd><p class="first">Read volume group on node.</p>
<p class="last">Returns 404 if the node or volume group is not found.</p>
</dd>
</dl>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/volume-group/{volume_group_id}/</span></code> <code class="docutils literal"><span class="pre">op=create_logical_volume</span></code></p>
<blockquote>
<div><p>Create a logical volume in the volume group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the logical volume.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">(optional) UUID of the logical volume.</td>
</tr>
<tr class="field-odd field"><th class="field-name">param size:</th><td class="field-body">Size of the logical volume.</td>
</tr>
</tbody>
</table>
<p>Returns 404 if the node or volume group is not found.
Returns 409 if the node is not Ready.</p>
</div></blockquote>
<p><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/volume-group/{volume_group_id}/</span></code> <code class="docutils literal"><span class="pre">op=delete_logical_volume</span></code></p>
<blockquote>
<div><p>Delete a logical volume in the volume group.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param id:</th><td class="field-body">ID of the logical volume.</td>
</tr>
</tbody>
</table>
<p>Returns 403 if no logical volume with id.
Returns 404 if the node or volume group is not found.
Returns 409 if the node is not Ready.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/nodes/{system_id}/volume-group/{volume_group_id}/</span></code></dt>
<dd><p class="first">Read volume group on node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the volume group.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">UUID of the volume group.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param add_block_devices:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Block devices to add to the volume group.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param remove_block_devices:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Block devices to remove from the
volume group.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param add_partitions:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Partitions to add to the volume group.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param remove_partitions:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Partitions to remove from the volume group.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the node or volume group is not found.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="volume-groups">
<h3>Volume groups<a class="headerlink" href="api.html#volume-groups" title="Permalink to this headline">¶</a></h3>
<p>Manage volume groups on a node.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/nodes/{system_id}/volume-groups/</span></code></dt>
<dd><p class="first">List all volume groups belonging to node.</p>
<p class="last">Returns 404 if the node is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/nodes/{system_id}/volume-groups/</span></code></dt>
<dd><p class="first">Create a volume group belonging to node.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Name of the volume group.</td>
</tr>
<tr class="field-even field"><th class="field-name">param uuid:</th><td class="field-body">(optional) UUID of the volume group.</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param block_devices:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Block devices to add to the volume group.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">param partitions:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">Partitions to add to the volume group.</td>
</tr>
</tbody>
</table>
<p class="last">Returns 404 if the node is not found.
Returns 409 if the node is not Ready.</p>
</dd>
</dl>
</div>
<div class="section" id="zone">
<h3>Zone<a class="headerlink" href="api.html#zone" title="Permalink to this headline">¶</a></h3>
<p>Manage a physical zone.</p>
<blockquote>
<div><p>Any node is in a physical zone, or &#8220;zone&#8221; for short.  The meaning of a
physical zone is up to you: it could identify e.g. a server rack, a
network, or a data centre.  Users can then allocate nodes from specific
physical zones, to suit their redundancy or performance requirements.</p>
<p>This functionality is only available to administrators.  Other users can
view physical zones, but not modify them.</p>
</div></blockquote>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">DELETE</span> <span class="pre">/api/1.0/zones/{name}/</span></code></dt>
<dd><p class="first">DELETE request.  Delete zone.</p>
<p class="last">Returns 404 if the zone is not found.
Returns 204 if the zone is successfully deleted.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/zones/{name}/</span></code></dt>
<dd><p class="first">GET request.  Return zone.</p>
<p class="last">Returns 404 if the zone is not found.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">PUT</span> <span class="pre">/api/1.0/zones/{name}/</span></code></dt>
<dd><p class="first">PUT request.  Update zone.</p>
<p class="last">Returns 404 if the zone is not found.</p>
</dd>
</dl>
</div>
<div class="section" id="zones">
<h3>Zones<a class="headerlink" href="api.html#zones" title="Permalink to this headline">¶</a></h3>
<p>Manage physical zones.</p>
<dl class="docutils">
<dt><code class="docutils literal"><span class="pre">GET</span> <span class="pre">/api/1.0/zones/</span></code></dt>
<dd><p class="first">List zones.</p>
<p class="last">Get a listing of all the physical zones.</p>
</dd>
<dt><code class="docutils literal"><span class="pre">POST</span> <span class="pre">/api/1.0/zones/</span></code></dt>
<dd><p class="first">Create a new physical zone.</p>
<table class="last docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">param name:</th><td class="field-body">Identifier-style name for the new zone.</td>
</tr>
<tr class="field-even field"><th class="field-name">type name:</th><td class="field-body">unicode</td>
</tr>
<tr class="field-odd field"><th class="field-name" colspan="2">param description:</th></tr>
<tr class="field-odd field"><td>&nbsp;</td><td class="field-body">Free-form description of the new zone.</td>
</tr>
<tr class="field-even field"><th class="field-name" colspan="2">type description:</th></tr>
<tr class="field-even field"><td>&nbsp;</td><td class="field-body">unicode</td>
</tr>
</tbody>
</table>
</dd>
</dl>
</div>
</div>
<div class="section" id="power-types">
<h2>Power types<a class="headerlink" href="api.html#power-types" title="Permalink to this headline">¶</a></h2>
<p>This is the list of the supported power types and their associated power parameters.  Note that the list of usable power types for a particular cluster might be a subset of this list if the cluster in question is from an older version of MAAS.</p>
<div class="section" id="ether-wake-wake-on-lan">
<h3>ether_wake (Wake-on-LAN)<a class="headerlink" href="api.html#ether-wake-wake-on-lan" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>mac_address (MAC Address).</li>
</ul>
</div>
<div class="section" id="virsh-virsh-virtual-systems">
<h3>virsh (Virsh (virtual systems))<a class="headerlink" href="api.html#virsh-virsh-virtual-systems" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_address (Power address).</li>
<li>power_id (Power ID).</li>
<li>power_pass (Power password (optional)).</li>
</ul>
</div>
<div class="section" id="vmware-vmware">
<h3>vmware (VMWare)<a class="headerlink" href="api.html#vmware-vmware" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_vm_name (VM Name (if UUID unknown)).</li>
<li>power_uuid (VM UUID (if known)).</li>
<li>power_address (VMware hostname).</li>
<li>power_user (VMware username).</li>
<li>power_pass (VMware password).</li>
<li>power_port (VMware API port (optional)).</li>
<li>power_protocol (VMware API protocol (optional)).</li>
</ul>
</div>
<div class="section" id="fence-cdu-sentry-switch-cdu">
<h3>fence_cdu (Sentry Switch CDU)<a class="headerlink" href="api.html#fence-cdu-sentry-switch-cdu" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_address (Power address).</li>
<li>power_id (Power ID).</li>
<li>power_user (Power user).</li>
<li>power_pass (Power password).</li>
</ul>
</div>
<div class="section" id="ipmi-ipmi">
<h3>ipmi (IPMI)<a class="headerlink" href="api.html#ipmi-ipmi" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_driver (Power driver). Choices: &#8216;LAN&#8217; (LAN [IPMI 1.5]), &#8216;LAN_2_0&#8217; (LAN_2_0 [IPMI 2.0])  Default: &#8216;LAN_2_0&#8217;.</li>
<li>power_address (IP address).</li>
<li>power_user (Power user).</li>
<li>power_pass (Power password).</li>
<li>mac_address (Power MAC).</li>
</ul>
</div>
<div class="section" id="moonshot-hp-moonshot-ilo4-ipmi">
<h3>moonshot (HP Moonshot - iLO4 (IPMI))<a class="headerlink" href="api.html#moonshot-hp-moonshot-ilo4-ipmi" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_address (Power address).</li>
<li>power_user (Power user).</li>
<li>power_pass (Power password).</li>
<li>power_hwaddress (Power hardware address).</li>
</ul>
</div>
<div class="section" id="sm15k-seamicro-15000">
<h3>sm15k (SeaMicro 15000)<a class="headerlink" href="api.html#sm15k-seamicro-15000" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>system_id (System ID).</li>
<li>power_address (Power address).</li>
<li>power_user (Power user).</li>
<li>power_pass (Power password).</li>
<li>power_control (Power control type). Choices: &#8216;ipmi&#8217; (IPMI), &#8216;restapi&#8217; (REST API v0.9), &#8216;restapi2&#8217; (REST API v2.0)  Default: &#8216;ipmi&#8217;.</li>
</ul>
</div>
<div class="section" id="amt-intel-amt">
<h3>amt (Intel AMT)<a class="headerlink" href="api.html#amt-intel-amt" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>mac_address (MAC Address).</li>
<li>power_pass (Power password).</li>
<li>power_address (Power address).</li>
</ul>
</div>
<div class="section" id="dli-digital-loggers-inc-pdu">
<h3>dli (Digital Loggers, Inc. PDU)<a class="headerlink" href="api.html#dli-digital-loggers-inc-pdu" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>outlet_id (Outlet ID).</li>
<li>power_address (Power address).</li>
<li>power_user (Power user).</li>
<li>power_pass (Power password).</li>
</ul>
</div>
<div class="section" id="ucsm-cisco-ucs-manager">
<h3>ucsm (Cisco UCS Manager)<a class="headerlink" href="api.html#ucsm-cisco-ucs-manager" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>uuid (Server UUID).</li>
<li>power_address (URL for XML API).</li>
<li>power_user (API user).</li>
<li>power_pass (API password).</li>
</ul>
</div>
<div class="section" id="mscm-hp-moonshot-ilo-chassis-manager">
<h3>mscm (HP Moonshot - iLO Chassis Manager)<a class="headerlink" href="api.html#mscm-hp-moonshot-ilo-chassis-manager" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_address (IP for MSCM CLI API).</li>
<li>power_user (MSCM CLI API user).</li>
<li>power_pass (MSCM CLI API password).</li>
<li>node_id (Node ID - Must adhere to cXnY format (X=cartridge number, Y=node number).).</li>
</ul>
</div>
<div class="section" id="msftocs-microsoft-ocs-chassis-manager">
<h3>msftocs (Microsoft OCS - Chassis Manager)<a class="headerlink" href="api.html#msftocs-microsoft-ocs-chassis-manager" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_address (Power address).</li>
<li>power_port (Power port).</li>
<li>power_user (Power user).</li>
<li>power_pass (Power password).</li>
<li>blade_id (Blade ID (Typically 1-24)).</li>
</ul>
</div>
<div class="section" id="apc-american-power-conversion-apc-pdu">
<h3>apc (American Power Conversion (APC) PDU)<a class="headerlink" href="api.html#apc-american-power-conversion-apc-pdu" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_address (IP for APC PDU).</li>
<li>node_outlet (APC PDU node outlet number (1-16)).</li>
<li>power_on_delay (Power ON outlet delay (seconds)).  Default: &#8216;5&#8217;.</li>
</ul>
</div>
<div class="section" id="hmc-ibm-hardware-management-console-hmc">
<h3>hmc (IBM Hardware Management Console (HMC))<a class="headerlink" href="api.html#hmc-ibm-hardware-management-console-hmc" title="Permalink to this headline">¶</a></h3>
<p>Power parameters:</p>
<ul class="simple">
<li>power_address (IP for HMC).</li>
<li>power_user (HMC username).</li>
<li>power_pass (HMC password).</li>
<li>server_name (HMC Managed System server name).</li>
<li>lpar (HMC logical partition).</li>
</ul>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<a style="border:0" title="MAAS Documentation Homepage" href="index.html"><img src="/static/maas-1.9/maas-logo-200.png" alt="MAAS logo"/></a>
<h2 style="text-align:center;">MAAS</h2>
<p style="font-style:italic;font-size:0.9em; text-align:center; margin-bottom:1.5em">Metal As A Service.</p>
<span id="version_switcher"></span>
<br/>
<br/>

  <ul>
<li><a class="reference internal" href="api.html#">MAAS API</a><ul>
<li><a class="reference internal" href="api.html#api-versions">API versions</a></li>
<li><a class="reference internal" href="api.html#http-methods-and-parameter-passing">HTTP methods and parameter-passing</a></li>
<li><a class="reference internal" href="api.html#operations">Operations</a><ul>
<li><a class="reference internal" href="api.html#logged-in-user">Logged-in user</a></li>
<li><a class="reference internal" href="api.html#bcache-cache-set">Bcache Cache Set</a></li>
<li><a class="reference internal" href="api.html#bcache-cache-sets">Bcache Cache Sets</a></li>
<li><a class="reference internal" href="api.html#bcache-device">Bcache Device</a></li>
<li><a class="reference internal" href="api.html#bcache-devices">Bcache Devices</a></li>
<li><a class="reference internal" href="api.html#block-device">Block device</a></li>
<li><a class="reference internal" href="api.html#block-devices">Block devices</a></li>
<li><a class="reference internal" href="api.html#boot-images">Boot images</a></li>
<li><a class="reference internal" href="api.html#boot-resource">Boot resource</a></li>
<li><a class="reference internal" href="api.html#boot-resources">Boot resources</a></li>
<li><a class="reference internal" href="api.html#boot-source">Boot source</a></li>
<li><a class="reference internal" href="api.html#boot-source-selection">Boot source selection</a></li>
<li><a class="reference internal" href="api.html#boot-source-selections">Boot source selections</a></li>
<li><a class="reference internal" href="api.html#boot-sources">Boot sources</a></li>
<li><a class="reference internal" href="api.html#commissioning-script">Commissioning script</a></li>
<li><a class="reference internal" href="api.html#commissioning-scripts">Commissioning scripts</a></li>
<li><a class="reference internal" href="api.html#device">Device</a></li>
<li><a class="reference internal" href="api.html#devices">Devices</a></li>
<li><a class="reference internal" href="api.html#events">Events</a></li>
<li><a class="reference internal" href="api.html#fabric">Fabric</a></li>
<li><a class="reference internal" href="api.html#fabrics">Fabrics</a></li>
<li><a class="reference internal" href="api.html#fan-network">Fan Network</a></li>
<li><a class="reference internal" href="api.html#fan-networks">Fan Networks</a></li>
<li><a class="reference internal" href="api.html#file">File</a></li>
<li><a class="reference internal" href="api.html#files">Files</a></li>
<li><a class="reference internal" href="api.html#ip-addresses">IP Addresses</a></li>
<li><a class="reference internal" href="api.html#interface">Interface</a></li>
<li><a class="reference internal" href="api.html#interfaces">Interfaces</a></li>
<li><a class="reference internal" href="api.html#license-key">License Key</a></li>
<li><a class="reference internal" href="api.html#license-keys">License Keys</a></li>
<li><a class="reference internal" href="api.html#maas-server">MAAS server</a></li>
<li><a class="reference internal" href="api.html#network">Network</a></li>
<li><a class="reference internal" href="api.html#networks">Networks</a></li>
<li><a class="reference internal" href="api.html#nodegroup">Nodegroup</a></li>
<li><a class="reference internal" href="api.html#nodegroup-interface">Nodegroup interface</a></li>
<li><a class="reference internal" href="api.html#nodegroup-interfaces">Nodegroup interfaces</a></li>
<li><a class="reference internal" href="api.html#nodegroups">Nodegroups</a></li>
<li><a class="reference internal" href="api.html#node">Node</a></li>
<li><a class="reference internal" href="api.html#node-interface">Node Interface</a></li>
<li><a class="reference internal" href="api.html#node-interfaces">Node Interfaces</a></li>
<li><a class="reference internal" href="api.html#commissioning-results">Commissioning results</a></li>
<li><a class="reference internal" href="api.html#nodes">Nodes</a></li>
<li><a class="reference internal" href="api.html#partitions">Partitions</a></li>
<li><a class="reference internal" href="api.html#id1">Partitions</a></li>
<li><a class="reference internal" href="api.html#raid-device">RAID Device</a></li>
<li><a class="reference internal" href="api.html#raid-devices">RAID Devices</a></li>
<li><a class="reference internal" href="api.html#ssh-key">SSH Key</a></li>
<li><a class="reference internal" href="api.html#ssh-keys">SSH Keys</a></li>
<li><a class="reference internal" href="api.html#ssl-key">SSL Key</a></li>
<li><a class="reference internal" href="api.html#ssl-keys">SSL Keys</a></li>
<li><a class="reference internal" href="api.html#space">Space</a></li>
<li><a class="reference internal" href="api.html#spaces">Spaces</a></li>
<li><a class="reference internal" href="api.html#subnet">Subnet</a></li>
<li><a class="reference internal" href="api.html#subnets">Subnets</a></li>
<li><a class="reference internal" href="api.html#tag">Tag</a></li>
<li><a class="reference internal" href="api.html#tags">Tags</a></li>
<li><a class="reference internal" href="api.html#users">Users</a></li>
<li><a class="reference internal" href="api.html#maas-version">MAAS version</a></li>
<li><a class="reference internal" href="api.html#vlan">VLAN</a></li>
<li><a class="reference internal" href="api.html#vlans">VLANs</a></li>
<li><a class="reference internal" href="api.html#volume-group">Volume group</a></li>
<li><a class="reference internal" href="api.html#volume-groups">Volume groups</a></li>
<li><a class="reference internal" href="api.html#zone">Zone</a></li>
<li><a class="reference internal" href="api.html#zones">Zones</a></li>
</ul>
</li>
<li><a class="reference internal" href="api.html#power-types">Power types</a><ul>
<li><a class="reference internal" href="api.html#ether-wake-wake-on-lan">ether_wake (Wake-on-LAN)</a></li>
<li><a class="reference internal" href="api.html#virsh-virsh-virtual-systems">virsh (Virsh (virtual systems))</a></li>
<li><a class="reference internal" href="api.html#vmware-vmware">vmware (VMWare)</a></li>
<li><a class="reference internal" href="api.html#fence-cdu-sentry-switch-cdu">fence_cdu (Sentry Switch CDU)</a></li>
<li><a class="reference internal" href="api.html#ipmi-ipmi">ipmi (IPMI)</a></li>
<li><a class="reference internal" href="api.html#moonshot-hp-moonshot-ilo4-ipmi">moonshot (HP Moonshot - iLO4 (IPMI))</a></li>
<li><a class="reference internal" href="api.html#sm15k-seamicro-15000">sm15k (SeaMicro 15000)</a></li>
<li><a class="reference internal" href="api.html#amt-intel-amt">amt (Intel AMT)</a></li>
<li><a class="reference internal" href="api.html#dli-digital-loggers-inc-pdu">dli (Digital Loggers, Inc. PDU)</a></li>
<li><a class="reference internal" href="api.html#ucsm-cisco-ucs-manager">ucsm (Cisco UCS Manager)</a></li>
<li><a class="reference internal" href="api.html#mscm-hp-moonshot-ilo-chassis-manager">mscm (HP Moonshot - iLO Chassis Manager)</a></li>
<li><a class="reference internal" href="api.html#msftocs-microsoft-ocs-chassis-manager">msftocs (Microsoft OCS - Chassis Manager)</a></li>
<li><a class="reference internal" href="api.html#apc-american-power-conversion-apc-pdu">apc (American Power Conversion (APC) PDU)</a></li>
<li><a class="reference internal" href="api.html#hmc-ibm-hardware-management-console-hmc">hmc (IBM Hardware Management Console (HMC))</a></li>
</ul>
</li>
</ul>
</li>
</ul>
<script type="text/javascript">
$(document).ready(function () {
  if (true) {
    $.ajaxSetup({cache: true});
    $.getScript('/static/maas-1.9/versions.js', function() {
      console.log( "Versions script loaded." );
      set_up_version_switcher('#version_switcher', 'docs');
    });
}
});
</script>

<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="physical-zones.html" title="previous chapter">Physical Zones</a></li>
      <li>Next: <a href="api_authentication.html" title="next chapter">API authentication</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="/static/maas-1.9/api.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="api_authentication.html" title="API authentication"
             >next</a></li>
        <li class="right" >
          <a href="physical-zones.html" title="Physical Zones"
             >previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://maas.io/docs/">Latest documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
  </li>
  <li class="nav-item nav-item-0">
    <a href="index.html">MAAS dev documentation</a>
  </li>
 
      </ul>
    </div>
<footer class="global clearfix">
  <div class="legal clearfix">
    <p>&copy; Copyright 2012-2015, MAAS Developers. Ubuntu and Canonical are registered trademarks of
      <a href="http://canonical.com">Canonical Ltd</a>.
    </p>
    <p>
      Revision 4595
 (2016-08-24 14:59:26 +0000).
      Documentation generation date: 2016-08-24 16:22:23 +0100.
    </p>
  </div>
</footer>
  </body>
</html>