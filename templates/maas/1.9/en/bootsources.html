<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Boot images import configuration &mdash; MAAS dev documentation</title>
    
    <link rel="stylesheet" href="_static/flasky.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="https://assets.ubuntu.com/sites/guidelines/css/latest/ubuntu-styles.css" type="text/css" />
    <link rel="stylesheet" href="https://assets.ubuntu.com/sites/ubuntu/latest/u/css/global.css" type="text/css" />
    <link rel="stylesheet" href="_static/css/main.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     'dev',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <link rel="shortcut icon" href="_static/maas.ico"/>
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="top" title="MAAS dev documentation" href="index.html" />
    <link rel="next" title="Adding nodes to the system" href="nodes.html" />
    <link rel="prev" title="Managing IPv6 Networks" href="ipv6.html" /> 
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="nodes.html" title="Adding nodes to the system"
             accesskey="N">next</a></li>
        <li class="right" >
          <a href="ipv6.html" title="Managing IPv6 Networks"
             accesskey="P">previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://maas.io/docs/">Latest documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
  </li>
  <li class="nav-item nav-item-0">
    <a href="index.html">MAAS dev documentation</a>
  </li>
 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="boot-images-import-configuration">
<span id="bootsources"></span><h1>Boot images import configuration<a class="headerlink" href="bootsources.html#boot-images-import-configuration" title="Permalink to this headline">¶</a></h1>
<p>The configuration for where a region downloads its images is defined by
a set of &#8220;sources&#8221;.  Each &#8220;source&#8221; defines a Simplestreams repository
location (<code class="docutils literal"><span class="pre">url</span></code>) from which images can be downloaded and a
<code class="docutils literal"><span class="pre">keyring_filename</span></code> (or <code class="docutils literal"><span class="pre">keyring_data</span></code>) for validating index and image
signatures from that location.  For each source, you can define a series of
filters (<code class="docutils literal"><span class="pre">selections</span></code>) specifying which images should be downloaded from
that source.</p>
<p>The following example use the MAAS CLI to list the boot sources and the boot
source selections.  Assuming the CLI <code class="docutils literal"><span class="pre">PROFILE</span></code> is the name of the profile
under which you&#8217;re logged in to the server:</p>
<div class="highlight-python"><div class="highlight"><pre>$ maas $PROFILE boot-sources read
[
    {
        &quot;url&quot;: &quot;http://maas.ubuntu.com/images/ephemeral-v2/releases/&quot;,
        &quot;keyring_data&quot;: &quot;&quot;,
        &quot;resource_uri&quot;: &quot;&lt;url omitted for readability&gt;&quot;,
        &quot;keyring_filename&quot;: &quot;/usr/share/keyrings/ubuntu-cloudimage-keyring.gpg&quot;,
        &quot;id&quot;: 1
    }
]

$ maas $PROFILE boot-source-selections read 1
[
    {
        &quot;labels&quot;: [
            &quot;release&quot;
        ],
        &quot;arches&quot;: [
            &quot;amd64&quot;
        ],
        &quot;subarches&quot;: [
            &quot;*&quot;
        ],
        &quot;release&quot;: &quot;trusty&quot;,
        &quot;id&quot;: 1,
        &quot;resource_uri&quot;: &quot;&lt;url omitted for readability&gt;&quot;
    }
]
</pre></div>
</div>
<div class="section" id="restricting-the-images-being-downloaded">
<h2>Restricting the images being downloaded<a class="headerlink" href="bootsources.html#restricting-the-images-being-downloaded" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s say you want to add a previous LTS release to images being downloaded.
Starting from the configuration described above, you would need to:</p>
<ul>
<li><p class="first">Add the &#8220;Precise&#8221; selection (the selection &#8216;1&#8217; of the source &#8216;1&#8217;):</p>
<div class="highlight-python"><div class="highlight"><pre>$ maas $PROFILE boot-source-selections create 1 os=&quot;ubuntu&quot; release=&quot;precise&quot; arches=&quot;amd64&quot; subarches=&quot;*&quot; labels=&quot;*&quot;
</pre></div>
</div>
</li>
</ul>
<p>After you&#8217;ve selected the additional boot sources you need to tell MAAS to
start the import process by running the command:</p>
<div class="highlight-python"><div class="highlight"><pre>$ maas $PROFILE boot-resources import
</pre></div>
</div>
</div>
<div class="section" id="downloading-the-images-from-a-different-source">
<h2>Downloading the images from a different source<a class="headerlink" href="bootsources.html#downloading-the-images-from-a-different-source" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s say you want to import the images from a different location.  You would
need to to change the source&#8217;s url and keyring:</p>
<div class="highlight-python"><div class="highlight"><pre>$ maas $PROFILE boot-source update 1 url=&quot;http://custom.url&quot; keyring_filename=&quot;&quot; keyring_data@=./custom_keyring_file
{
    &quot;url&quot;: &quot;http://custom.url/&quot;,
    &quot;keyring_data&quot;: &quot;&lt;base64 encoded content of `custom_keyring_file`&gt;&quot;,
    &quot;resource_uri&quot;: &quot;&lt;url omitted for readability&gt;&quot;,
    &quot;keyring_filename&quot;: &quot;&quot;,
    &quot;id&quot;: 1
}
</pre></div>
</div>
</div>
<div class="section" id="adding-a-source">
<h2>Adding a source<a class="headerlink" href="bootsources.html#adding-a-source" title="Permalink to this headline">¶</a></h2>
<p>You can also add a new source:</p>
<div class="highlight-python"><div class="highlight"><pre>$ maas $PROFILE boot-sources create url=http://my.url keyring_filename=&quot;&quot; keyring_data@=./ custom_keyring_file
{
    &quot;url&quot;: &quot;http://my.url/&quot;,
    &quot;keyring_data&quot;: &quot;ZW1wdHkK&quot;,
    &quot;keyring_filename&quot;: &quot;&quot;,
    &quot;id&quot;: 2,
    &quot;resource_uri&quot;: &quot;&lt;url omitted for readability&gt;&quot;
}
</pre></div>
</div>
<p>Inside that newly created source (&#8216;2&#8217;) you can add selections:</p>
<div class="highlight-python"><div class="highlight"><pre>$ maas $PROFILE boot-source-selections create 2 os=&quot;ubuntu&quot; release=&quot;trusty&quot; arches=&quot;amd64&quot; subarches=&quot;*&quot; labels=&#39;*&#39;
{
    &quot;labels&quot;: [&quot;*&quot;],
    &quot;arches&quot;: [&quot;amd64&quot;],
    &quot;subarches&quot;: [&quot;*&quot;],
    &quot;release&quot;: &quot;trusty&quot;,
    &quot;id&quot;: 3,
    &quot;resource_uri&quot;: &quot;&lt;url omitted for readability&gt;&quot;
}
</pre></div>
</div>
</div>
<div class="section" id="deleting-a-source">
<h2>Deleting a source<a class="headerlink" href="bootsources.html#deleting-a-source" title="Permalink to this headline">¶</a></h2>
<p>Let&#8217;s say you need to delete the newly added source.</p>
<p>To delete the source:</p>
<div class="highlight-python"><div class="highlight"><pre>$ maas $PROFILE boot-source delete 2
</pre></div>
</div>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<a style="border:0" title="MAAS Documentation Homepage" href="index.html"><img src="_static/maas-logo-200.png" alt="MAAS logo"/></a>
<h2 style="text-align:center;">MAAS</h2>
<p style="font-style:italic;font-size:0.9em; text-align:center; margin-bottom:1.5em">Metal As A Service.</p>
<span id="version_switcher"></span>
<br/>
<br/>

  <ul>
<li><a class="reference internal" href="bootsources.html#">Boot images import configuration</a><ul>
<li><a class="reference internal" href="bootsources.html#restricting-the-images-being-downloaded">Restricting the images being downloaded</a></li>
<li><a class="reference internal" href="bootsources.html#downloading-the-images-from-a-different-source">Downloading the images from a different source</a></li>
<li><a class="reference internal" href="bootsources.html#adding-a-source">Adding a source</a></li>
<li><a class="reference internal" href="bootsources.html#deleting-a-source">Deleting a source</a></li>
</ul>
</li>
</ul>
<script type="text/javascript">
$(document).ready(function () {
  if (true) {
    $.ajaxSetup({cache: true});
    $.getScript('/docs/_static/versions.js', function() {
      console.log( "Versions script loaded." );
      set_up_version_switcher('#version_switcher', 'docs');
    });
}
});
</script>

<h3>Related Topics</h3>
<ul>
  <li><a href="index.html">Documentation overview</a><ul>
      <li>Previous: <a href="ipv6.html" title="previous chapter">Managing IPv6 Networks</a></li>
      <li>Next: <a href="nodes.html" title="next chapter">Adding nodes to the system</a></li>
  </ul></li>
</ul>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/bootsources.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    <p class="searchtip" style="font-size: 90%">
    Enter search terms or a module, class or function name.
    </p>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="nodes.html" title="Adding nodes to the system"
             >next</a></li>
        <li class="right" >
          <a href="ipv6.html" title="Managing IPv6 Networks"
             >previous</a> |</li>
  <li class="nav-item nav-item-0">
    <a href="http://maas.io/docs/">Latest documentation</a>&nbsp;&nbsp;|&nbsp;&nbsp;
  </li>
  <li class="nav-item nav-item-0">
    <a href="index.html">MAAS dev documentation</a>
  </li>
 
      </ul>
    </div>
<footer class="global clearfix">
  <div class="legal clearfix">
    <p>&copy; Copyright 2012-2015, MAAS Developers. Ubuntu and Canonical are registered trademarks of
      <a href="http://canonical.com">Canonical Ltd</a>.
    </p>
    <p>
      Revision 4595
 (2016-08-24 14:59:26 +0000).
      Documentation generation date: 2016-08-24 16:22:23 +0100.
    </p>
  </div>
</footer>
  </body>
</html>